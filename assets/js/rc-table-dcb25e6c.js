import{r as e}from"./react-32c7b601.js";import{e as n,f as t,u as r}from"./@rc-component-52f7a36a.js";import{o,n as l,E as a,i as c,h as i,x as u,c as s,M as f,N as d,O as m,k as p,d as v,P as x,A as h}from"./rc-util-fa3fab39.js";import{c as y,d as C,b as w,e as g,g as E,h as S,f as N}from"./@babel-7994ac7b.js";import{c as b}from"./classnames-a0172216.js";import{R}from"./rc-resize-observer-c51b26ea.js";import{L as k}from"./rc-virtual-list-5d6a9296.js";var I={},L="rc-table-internal-hook",H=n(),M=H.makeImmutable,T=H.responseImmutable,K=H.useImmutableMark,W=t(),z=e.createContext({renderWithProps:!1}),O="RC_TABLE_KEY";function P(e){var n=[],t={};return e.forEach((function(e){for(var r,o=e||{},l=o.key,a=o.dataIndex,c=l||(r=a,null==r?[]:Array.isArray(r)?r:[r]).join("-")||O;t[c];)c="".concat(c,"_next");t[c]=!0,n.push(c)})),n}function B(e){return null!=e}function A(n,t,r,c,i,u){var s=e.useContext(z),f=K();return o((function(){if(B(c))return[c];var o,l=null==t||""===t?[]:Array.isArray(t)?t:[t],u=a(n,l),f=u,d=void 0;if(i){var m=i(u,n,r);!(o=m)||"object"!==C(o)||Array.isArray(o)||e.isValidElement(o)?f=m:(f=m.children,d=m.props,s.renderWithProps=!0)}return[f,d]}),[f,n,c,t,i,r],(function(e,n){if(u){var t=y(e,2)[1],r=y(n,2)[1];return u(r,t)}return!!s.renderWithProps||!l(e,n,!0)}))}function j(n){var t,o,l,a,i,u,s,f,d=n.component,m=n.children,p=n.ellipsis,v=n.scope,x=n.prefixCls,h=n.className,S=n.align,N=n.record,R=n.render,k=n.dataIndex,I=n.renderIndex,L=n.shouldCellUpdate,H=n.index,M=n.rowType,T=n.colSpan,K=n.rowSpan,z=n.fixLeft,O=n.fixRight,P=n.firstFixLeft,B=n.lastFixLeft,j=n.firstFixRight,F=n.lastFixRight,_=n.appendNode,X=n.additionalProps,D=void 0===X?{}:X,U=n.isSticky,V="".concat(x,"-cell"),Y=r(W,["supportSticky","allColumnsFixedLeft"]),q=Y.supportSticky,G=Y.allColumnsFixedLeft,J=A(N,k,I,m,R,L),Q=y(J,2),Z=Q[0],$=Q[1],ee={},ne="number"==typeof z&&q,te="number"==typeof O&&q;ne&&(ee.position="sticky",ee.left=z),te&&(ee.position="sticky",ee.right=O);var re=null!==(t=null!==(o=null!==(l=null==$?void 0:$.colSpan)&&void 0!==l?l:D.colSpan)&&void 0!==o?o:T)&&void 0!==t?t:1,oe=null!==(a=null!==(i=null!==(u=null==$?void 0:$.rowSpan)&&void 0!==u?u:D.rowSpan)&&void 0!==i?i:K)&&void 0!==a?a:1,le=function(e,n){return r(W,(function(t){var r,o,l,a;return[(r=e,o=n||1,l=t.hoverStartRow,a=t.hoverEndRow,r<=a&&r+o-1>=l),t.onHover]}))}(H,oe),ae=y(le,2),ce=ae[0],ie=ae[1],ue=c((function(e){var n;N&&ie(H,H+oe-1),null==D||null===(n=D.onMouseEnter)||void 0===n||n.call(D,e)})),se=c((function(e){var n;N&&ie(-1,-1),null==D||null===(n=D.onMouseLeave)||void 0===n||n.call(D,e)}));if(0===re||0===oe)return null;var fe=null!==(s=D.title)&&void 0!==s?s:function(n){var t,r=n.ellipsis,o=n.rowType,l=n.children,a=!0===r?{showTitle:!0}:r;return a&&(a.showTitle||"header"===o)&&("string"==typeof l||"number"==typeof l?t=l.toString():e.isValidElement(l)&&"string"==typeof l.props.children&&(t=l.props.children)),t}({rowType:M,ellipsis:p,children:Z}),de=b(V,h,(w(f={},"".concat(V,"-fix-left"),ne&&q),w(f,"".concat(V,"-fix-left-first"),P&&q),w(f,"".concat(V,"-fix-left-last"),B&&q),w(f,"".concat(V,"-fix-left-all"),B&&G&&q),w(f,"".concat(V,"-fix-right"),te&&q),w(f,"".concat(V,"-fix-right-first"),j&&q),w(f,"".concat(V,"-fix-right-last"),F&&q),w(f,"".concat(V,"-ellipsis"),p),w(f,"".concat(V,"-with-append"),_),w(f,"".concat(V,"-fix-sticky"),(ne||te)&&U&&q),w(f,"".concat(V,"-row-hover"),!$&&ce),f),D.className,null==$?void 0:$.className),me={};S&&(me.textAlign=S);var pe=g(g(g(g({},ee),D.style),me),null==$?void 0:$.style),ve=Z;return"object"!==C(ve)||Array.isArray(ve)||e.isValidElement(ve)||(ve=null),p&&(B||j)&&(ve=e.createElement("span",{className:"".concat(V,"-content")},ve)),e.createElement(d,E({},$,D,{className:de,style:pe,title:fe,scope:v,onMouseEnter:ue,onMouseLeave:se,colSpan:1!==re?re:null,rowSpan:1!==oe?oe:null}),_,ve)}const F=e.memo(j);function _(e,n,t,r,o){var l,a,c=t[e]||{},i=t[n]||{};"left"===c.fixed?l=r.left["rtl"===o?n:e]:"right"===i.fixed&&(a=r.right["rtl"===o?e:n]);var u=!1,s=!1,f=!1,d=!1,m=t[n+1],p=t[e-1],v=m&&void 0===m.fixed||p&&void 0===p.fixed||t.every((function(e){return"left"===e.fixed}));if("rtl"===o){if(void 0!==l)d=!(p&&"left"===p.fixed)&&v;else if(void 0!==a){f=!(m&&"right"===m.fixed)&&v}}else if(void 0!==l){u=!(m&&"left"===m.fixed)&&v}else if(void 0!==a){s=!(p&&"right"===p.fixed)&&v}return{fixLeft:l,fixRight:a,lastFixLeft:u,firstFixRight:s,lastFixRight:f,firstFixLeft:d,isSticky:r.isSticky}}var X=e.createContext({});var D=["children"];function U(e){return e.children}U.Row=function(n){var t=n.children,r=S(n,D);return e.createElement("tr",r,t)},U.Cell=function(n){var t=n.className,o=n.index,l=n.children,a=n.colSpan,c=void 0===a?1:a,i=n.rowSpan,u=n.align,s=r(W,["prefixCls","direction"]),f=s.prefixCls,d=s.direction,m=e.useContext(X),p=m.scrollColumnIndex,v=m.stickyOffsets,x=o+c-1+1===p?c+1:c,h=_(o,o+x-1,m.flattenColumns,v,d);return e.createElement(F,E({className:t,index:o,component:"td",prefixCls:f,record:null,dataIndex:null,align:u,colSpan:x,rowSpan:i,render:function(){return l}},h))};const V=T((function(n){var t=n.children,o=n.stickyOffsets,l=n.flattenColumns,a=r(W,"prefixCls"),c=l.length-1,i=l[c],u=e.useMemo((function(){return{stickyOffsets:o,flattenColumns:l,scrollColumnIndex:null!=i&&i.scrollbar?c:null}}),[i,l,c,o]);return e.createElement(X.Provider,{value:u},e.createElement("tfoot",{className:"".concat(a,"-summary")},t))}));var Y=U;function q(e,n,t,r,o,l,a){e.push({record:n,indent:t,index:a});var c=l(n),i=null==o?void 0:o.has(c);if(n&&Array.isArray(n[r])&&i)for(var u=0;u<n[r].length;u+=1)q(e,n[r][u],t+1,r,o,l,u)}function G(n,t,r,o){return e.useMemo((function(){if(null!=r&&r.size){for(var e=[],l=0;l<(null==n?void 0:n.length);l+=1){q(e,n[l],0,t,r,o,l)}return e}return null==n?void 0:n.map((function(e,n){return{record:e,indent:0,index:n}}))}),[n,t,r,o])}function J(e,n,t,o){var l,a=r(W,["prefixCls","fixedInfoList","flattenColumns","expandableType","expandRowByClick","onTriggerExpand","rowClassName","expandedRowClassName","indentSize","expandIcon","expandedRowRender","expandIconColumnIndex","expandedKeys","childrenColumnName","rowExpandable","onRow"]),i=a.flattenColumns,u=a.expandableType,s=a.expandedKeys,f=a.childrenColumnName,d=a.onTriggerExpand,m=a.rowExpandable,p=a.onRow,v=a.expandRowByClick,x=a.rowClassName,h="nest"===u,y="row"===u&&(!m||m(e)),C=y||h,w=s&&s.has(n),E=f&&e&&e[f],S=c(d),N=null==p?void 0:p(e,t),R=null==N?void 0:N.onClick;"string"==typeof x?l=x:"function"==typeof x&&(l=x(e,t,o));var k=P(i);return g(g({},a),{},{columnsKey:k,nestExpandable:h,expanded:w,hasNestChildren:E,record:e,onTriggerExpand:S,rowSupportExpand:y,expandable:C,rowProps:g(g({},N),{},{className:b(l,null==N?void 0:N.className),onClick:function(n){v&&C&&d(e,n);for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];null==R||R.apply(void 0,[n].concat(r))}})})}function Q(n){var t=n.prefixCls,o=n.children,l=n.component,a=n.cellComponent,c=n.className,i=n.expanded,u=n.colSpan,s=n.isEmpty,f=r(W,["scrollbarSize","fixHeader","fixColumn","componentWidth","horizonScroll"]),d=f.scrollbarSize,m=f.fixHeader,p=f.fixColumn,v=f.componentWidth,x=f.horizonScroll,h=o;return(s?x&&v:p)&&(h=e.createElement("div",{style:{width:v-(m?d:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(t,"-expanded-row-fixed")},h)),e.createElement(l,{className:c,style:{display:i?null:"none"}},e.createElement(F,{component:a,prefixCls:t,colSpan:u},h))}function Z(n,t,r,o,l){var a,c,i=n.record,u=n.prefixCls,s=n.columnsKey,f=n.fixedInfoList,d=n.expandIconColumnIndex,m=n.nestExpandable,p=n.indentSize,v=n.expandIcon,x=n.expanded,h=n.hasNestChildren,y=n.onTriggerExpand,C=s[r],w=f[r];return r===(d||0)&&m&&(a=e.createElement(e.Fragment,null,e.createElement("span",{style:{paddingLeft:"".concat(p*o,"px")},className:"".concat(u,"-row-indent indent-level-").concat(o)}),v({prefixCls:u,expanded:x,expandable:h,record:i,onExpand:y}))),t.onCell&&(c=t.onCell(i,l)),{key:C,fixedInfo:w,appendCellNode:a,additionalCellProps:c||{}}}const $=T((function(n){var t=n.className,r=n.style,o=n.record,l=n.index,a=n.renderIndex,c=n.rowKey,i=n.indent,u=void 0===i?0:i,s=n.rowComponent,f=n.cellComponent,d=n.scopeCellComponent,m=J(o,c,l,u),p=m.prefixCls,v=m.flattenColumns,x=m.expandedRowClassName,h=m.expandedRowRender,y=m.rowProps,C=m.expanded,w=m.rowSupportExpand,S=e.useRef(!1);S.current||(S.current=C);var N,R=x&&x(o,l,u),k=e.createElement(s,E({},y,{"data-row-key":c,className:b(t,"".concat(p,"-row"),"".concat(p,"-row-level-").concat(u),null==y?void 0:y.className,u>=1?R:""),style:g(g({},r),null==y?void 0:y.style)}),v.map((function(n,t){var r=n.render,c=n.dataIndex,i=n.className,s=Z(m,n,t,u,l),v=s.key,x=s.fixedInfo,h=s.appendCellNode,y=s.additionalCellProps;return e.createElement(F,E({className:i,ellipsis:n.ellipsis,align:n.align,scope:n.rowScope,component:n.rowScope?d:f,prefixCls:p,key:v,record:o,index:l,renderIndex:a,dataIndex:c,render:r,shouldCellUpdate:n.shouldCellUpdate},x,{appendNode:h,additionalProps:y}))})));if(w&&(S.current||C)){var I=h(o,l,u+1,C);N=e.createElement(Q,{expanded:C,className:b("".concat(p,"-expanded-row"),"".concat(p,"-expanded-row-level-").concat(u+1),R),prefixCls:p,component:s,cellComponent:f,colSpan:v.length,isEmpty:!1},I)}return e.createElement(e.Fragment,null,k,N)}));function ee(n){var t=n.columnKey,r=n.onColumnResize,o=e.useRef();return e.useEffect((function(){o.current&&r(t,o.current.offsetWidth)}),[]),e.createElement(R,{data:t},e.createElement("td",{ref:o,style:{padding:0,border:0,height:0}},e.createElement("div",{style:{height:0,overflow:"hidden"}},"Â ")))}function ne(n){var t=n.prefixCls,r=n.columnsKey,o=n.onColumnResize;return e.createElement("tr",{"aria-hidden":"true",className:"".concat(t,"-measure-row"),style:{height:0,fontSize:0}},e.createElement(R.Collection,{onBatchResize:function(e){e.forEach((function(e){var n=e.data,t=e.size;o(n,t.offsetWidth)}))}},r.map((function(n){return e.createElement(ee,{key:n,columnKey:n,onColumnResize:o})}))))}const te=T((function(n){var t,o=n.data,l=n.measureColumnWidth,a=r(W,["prefixCls","getComponent","onColumnResize","flattenColumns","getRowKey","expandedKeys","childrenColumnName","emptyNode"]),c=a.prefixCls,i=a.getComponent,u=a.onColumnResize,s=a.flattenColumns,f=a.getRowKey,d=a.expandedKeys,m=a.childrenColumnName,p=a.emptyNode,v=G(o,m,d,f),x=e.useRef({renderWithProps:!1}),h=i(["body","wrapper"],"tbody"),y=i(["body","row"],"tr"),C=i(["body","cell"],"td"),w=i(["body","cell"],"th");t=o.length?v.map((function(n,t){var r=n.record,o=n.indent,l=n.index,a=f(r,t);return e.createElement($,{key:a,rowKey:a,record:r,index:t,renderIndex:l,rowComponent:y,cellComponent:C,scopeCellComponent:w,getRowKey:f,indent:o})})):e.createElement(Q,{expanded:!0,className:"".concat(c,"-placeholder"),prefixCls:c,component:y,cellComponent:C,colSpan:s.length,isEmpty:!0},p);var g=P(s);return e.createElement(z.Provider,{value:x.current},e.createElement(h,{className:"".concat(c,"-tbody")},l&&e.createElement(ne,{prefixCls:c,columnsKey:g,onColumnResize:u}),t))}));var re=["expandable"],oe="RC_TABLE_INTERNAL_COL_DEFINE";var le=["columnType"];function ae(n){for(var t=n.colWidths,r=n.columns,o=[],l=!1,a=(n.columCount||r.length)-1;a>=0;a-=1){var c=t[a],i=r&&r[a],u=i&&i[oe];if(c||u||l){var s=u||{};s.columnType;var f=S(s,le);o.unshift(e.createElement("col",E({key:a,style:{width:c}},f))),l=!0}}return e.createElement("colgroup",null,o)}var ce=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];var ie=e.forwardRef((function(n,t){var o=n.className,l=n.noData,a=n.columns,c=n.flattenColumns,u=n.colWidths,s=n.columCount,f=n.stickyOffsets,d=n.direction,m=n.fixHeader,p=n.stickyTopOffset,v=n.stickyBottomOffset,x=n.stickyClassName,h=n.onScroll,y=n.maxContentScroll,C=n.children,E=S(n,ce),R=r(W,["prefixCls","scrollbarSize","isSticky","getComponent"]),k=R.prefixCls,I=R.scrollbarSize,L=R.isSticky,H=(0,R.getComponent)(["header","table"],"table"),M=L&&!m?0:I,T=e.useRef(null),K=e.useCallback((function(e){i(t,e),i(T,e)}),[]);e.useEffect((function(){var e;function n(e){var n=e,t=n.currentTarget,r=n.deltaX;r&&(h({currentTarget:t,scrollLeft:t.scrollLeft+r}),e.preventDefault())}return null===(e=T.current)||void 0===e||e.addEventListener("wheel",n),function(){var e;null===(e=T.current)||void 0===e||e.removeEventListener("wheel",n)}}),[]);var z=e.useMemo((function(){return c.every((function(e){return e.width}))}),[c]),O=c[c.length-1],P={fixed:O?O.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(k,"-cell-scrollbar")}}},B=e.useMemo((function(){return M?[].concat(N(a),[P]):a}),[M,a]),A=e.useMemo((function(){return M?[].concat(N(c),[P]):c}),[M,c]),j=e.useMemo((function(){var e=f.right,n=f.left;return g(g({},f),{},{left:"rtl"===d?[].concat(N(n.map((function(e){return e+M}))),[0]):n,right:"rtl"===d?e:[].concat(N(e.map((function(e){return e+M}))),[0]),isSticky:L})}),[M,f,L]),F=function(n,t){return e.useMemo((function(){for(var e=[],r=0;r<t;r+=1){var o=n[r];if(void 0===o)return null;e[r]=o}return e}),[n.join("_"),t])}(u,s);return e.createElement("div",{style:g({overflow:"hidden"},L?{top:p,bottom:v}:{}),ref:K,className:b(o,w({},x,!!x))},e.createElement(H,{style:{tableLayout:"fixed",visibility:l||F?null:"hidden"}},(!l||!y||z)&&e.createElement(ae,{colWidths:F?[].concat(N(F),[M]):[],columCount:s+1,columns:A}),C(g(g({},E),{},{stickyOffsets:j,columns:B,flattenColumns:A}))))}));const ue=e.memo(ie);var se=function(n){var t,o=n.cells,l=n.stickyOffsets,a=n.flattenColumns,c=n.rowComponent,i=n.cellComponent,u=n.onHeaderRow,s=n.index,f=r(W,["prefixCls","direction"]),d=f.prefixCls,m=f.direction;u&&(t=u(o.map((function(e){return e.column})),s));var p=P(o.map((function(e){return e.column})));return e.createElement(c,t,o.map((function(n,t){var r,o=n.column,c=_(n.colStart,n.colEnd,a,l,m);return o&&o.onHeaderCell&&(r=n.column.onHeaderCell(o)),e.createElement(F,E({},n,{scope:o.title?n.colSpan>1?"colgroup":"col":null,ellipsis:o.ellipsis,align:o.align,component:i,prefixCls:d,key:p[t]},c,{additionalProps:r,rowType:"header"}))})))};const fe=T((function(n){var t=n.stickyOffsets,o=n.columns,l=n.flattenColumns,a=n.onHeaderRow,c=r(W,["prefixCls","getComponent"]),i=c.prefixCls,u=c.getComponent,s=e.useMemo((function(){return function(e){var n=[];!function e(t,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;n[o]=n[o]||[];var l=r;return t.filter(Boolean).map((function(t){var r={key:t.key,className:t.className||"",children:t.title,column:t,colStart:l},a=1,c=t.children;return c&&c.length>0&&(a=e(c,l,o+1).reduce((function(e,n){return e+n}),0),r.hasSubColumns=!0),"colSpan"in t&&(a=t.colSpan),"rowSpan"in t&&(r.rowSpan=t.rowSpan),r.colSpan=a,r.colEnd=r.colStart+a-1,n[o].push(r),l+=a,a}))}(e,0);for(var t=n.length,r=function(e){n[e].forEach((function(n){"rowSpan"in n||n.hasSubColumns||(n.rowSpan=t-e)}))},o=0;o<t;o+=1)r(o);return n}(o)}),[o]),f=u(["header","wrapper"],"thead"),d=u(["header","row"],"tr"),m=u(["header","cell"],"th");return e.createElement(f,{className:"".concat(i,"-thead")},s.map((function(n,r){return e.createElement(se,{key:r,flattenColumns:l,cells:n,stickyOffsets:t,rowComponent:d,cellComponent:m,onHeaderRow:a,index:r})})))}));function de(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"number"==typeof n?n:n.endsWith("%")?e*parseFloat(n)/100:null}var me=["children"],pe=["fixed"];function ve(n){return u(n).filter((function(n){return e.isValidElement(n)})).map((function(e){var n=e.key,t=e.props,r=t.children,o=S(t,me),l=g({key:n},o);return r&&(l.children=ve(r)),l}))}function xe(e){return e.filter((function(e){return e&&"object"===C(e)&&!e.hidden})).map((function(e){var n=e.children;return n&&n.length>0?g(g({},e),{},{children:xe(n)}):e}))}function he(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key";return e.filter((function(e){return e&&"object"===C(e)})).reduce((function(e,t,r){var o=t.fixed,l=!0===o?"left":o,a="".concat(n,"-").concat(r),c=t.children;return c&&c.length>0?[].concat(N(e),N(he(c,a).map((function(e){return g({fixed:l},e)})))):[].concat(N(e),[g(g({key:a},t),{},{fixed:l})])}),[])}function ye(n,t){var r=n.prefixCls,o=n.columns,l=n.children,a=n.expandable,c=n.expandedKeys,i=n.columnTitle,u=n.getRowKey,s=n.onTriggerExpand,f=n.expandIcon,d=n.rowExpandable,m=n.expandIconColumnIndex,p=n.direction,v=n.expandRowByClick,x=n.columnWidth,h=n.fixed,C=n.scrollWidth,E=n.clientWidth,N=e.useMemo((function(){return xe((o||ve(l)||[]).slice())}),[o,l]),b=e.useMemo((function(){if(a){var n,t=N.slice();if(!t.includes(I)){var o=m||0;o>=0&&t.splice(o,0,I)}var l=t.indexOf(I);t=t.filter((function(e,n){return e!==I||n===l}));var p,y=N[l];p="left"!==h&&!h||m?"right"!==h&&!h||m!==N.length?y?y.fixed:null:"right":"left";var C=(w(n={},oe,{className:"".concat(r,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),w(n,"title",i),w(n,"fixed",p),w(n,"className","".concat(r,"-row-expand-icon-cell")),w(n,"width",x),w(n,"render",(function(n,t,o){var l=u(t,o),a=c.has(l),i=!d||d(t),m=f({prefixCls:r,expanded:a,expandable:i,record:t,onExpand:s});return v?e.createElement("span",{onClick:function(e){return e.stopPropagation()}},m):m})),n);return t.map((function(e){return e===I?C:e}))}return N.filter((function(e){return e!==I}))}),[a,N,u,c,f,p]),R=e.useMemo((function(){var e=b;return t&&(e=t(e)),e.length||(e=[{render:function(){return null}}]),e}),[t,b,p]),k=e.useMemo((function(){return"rtl"===p?function(e){return e.map((function(e){var n=e.fixed,t=S(e,pe),r=n;return"left"===n?r="right":"right"===n&&(r="left"),g({fixed:r},t)}))}(he(R)):he(R)}),[R,p,C]),L=e.useMemo((function(){for(var e=-1,n=k.length-1;n>=0;n-=1){var t=k[n].fixed;if("left"===t||!0===t){e=n;break}}if(e>=0)for(var r=0;r<=e;r+=1){var o=k[r].fixed;if("left"!==o&&!0!==o)return!0}var l=k.findIndex((function(e){return"right"===e.fixed}));if(l>=0)for(var a=l;a<k.length;a+=1){if("right"!==k[a].fixed)return!0}return!1}),[k]),H=function(n,t,r){return e.useMemo((function(){if(t&&t>0){var e=0,o=0;n.forEach((function(n){var r=de(t,n.width);r?e+=r:o+=1}));var l=Math.max(t,r),a=Math.max(l-e,o),c=o,i=a/o,u=0,s=n.map((function(e){var n=g({},e),r=de(t,n.width);if(r)n.width=r;else{var o=Math.floor(i);n.width=1===c?a:o,a-=o,c-=1}return u+=n.width,n}));if(u<l){var f=l/u;a=l,s.forEach((function(e,n){var t=Math.floor(e.width*f);e.width=n===s.length-1?a:t,a-=t}))}return[s,Math.max(u,l)]}return[n,t]}),[n,t,r])}(k,C,E),M=y(H,2),T=M[0],K=M[1];return[R,T,K,L]}function Ce(n){var t,r=n.prefixCls,o=n.record,l=n.onExpand,a=n.expanded,c=n.expandable,i="".concat(r,"-row-expand-icon");if(!c)return e.createElement("span",{className:b(i,"".concat(r,"-row-spaced"))});return e.createElement("span",{className:b(i,(t={},w(t,"".concat(r,"-row-expanded"),a),w(t,"".concat(r,"-row-collapsed"),!a),t)),onClick:function(e){l(o,e),e.stopPropagation()}})}function we(n,t,r){var o=function(e){var n,t=e.expandable,r=S(e,re);return!1===(n="expandable"in e?g(g({},r),t):r).showExpandColumn&&(n.expandIconColumnIndex=-1),n}(n),l=o.expandIcon,a=o.expandedRowKeys,c=o.defaultExpandedRowKeys,i=o.defaultExpandAllRows,u=o.expandedRowRender,s=o.onExpand,f=o.onExpandedRowsChange,d=l||Ce,m=o.childrenColumnName||"children",p=e.useMemo((function(){return u?"row":!!(n.expandable&&n.internalHooks===L&&n.expandable.__PARENT_RENDER_ICON__||t.some((function(e){return e&&"object"===C(e)&&e[m]})))&&"nest"}),[!!u,t]),v=e.useState((function(){return c||(i?function(e,n,t){var r=[];return function e(o){(o||[]).forEach((function(o,l){r.push(n(o,l)),e(o[t])}))}(e),r}(t,r,m):[])})),x=y(v,2),h=x[0],w=x[1],E=e.useMemo((function(){return new Set(a||h||[])}),[a,h]),b=e.useCallback((function(e){var n,o=r(e,t.indexOf(e)),l=E.has(o);l?(E.delete(o),n=N(E)):n=[].concat(N(E),[o]),w(n),s&&s(!l,e),f&&f(n)}),[r,E,t,s,f]);return[o,p,E,d,m,b]}function ge(n){var t=e.useRef(n),r=e.useState({}),o=y(r,2)[1],l=e.useRef(null),a=e.useRef([]);return e.useEffect((function(){return function(){l.current=null}}),[]),[t.current,function(e){a.current.push(e);var n=Promise.resolve();l.current=n,n.then((function(){if(l.current===n){var e=a.current,r=t.current;a.current=[],e.forEach((function(e){t.current=e(t.current)})),l.current=null,r!==t.current&&o({})}}))}]}var Ee=s()?window:null;function Se(n){var t=n.className,r=n.children;return e.createElement("div",{className:t},r)}var Ne=function(n,t){var o,l,a=n.scrollBodyRef,c=n.onScroll,i=n.offsetScroll,u=n.container,s=n.data,p=r(W,"prefixCls"),v=(null===(o=a.current)||void 0===o?void 0:o.scrollWidth)||0,x=(null===(l=a.current)||void 0===l?void 0:l.clientWidth)||0,h=v&&x*(x/v),C=e.useRef(),E=ge({scrollLeft:0,isHiddenScrollBar:!1}),S=y(E,2),N=S[0],R=S[1],k=e.useRef({delta:0,x:0}),I=e.useState(!1),L=y(I,2),H=L[0],M=L[1],T=function(){M(!1)},K=function(e){var n,t=(e||(null===(n=window)||void 0===n?void 0:n.event)).buttons;if(H&&0!==t){var r=k.current.x+e.pageX-k.current.x-k.current.delta;r<=0&&(r=0),r+h>=x&&(r=x-h),c({scrollLeft:r/x*(v+2)}),k.current.x=e.pageX}else H&&M(!1)},z=function(){if(a.current){var e=m(a.current).top,n=e+a.current.offsetHeight,t=u===window?document.documentElement.scrollTop+window.innerHeight:m(u).top+u.clientHeight;n-d()<=t||e>=t-i?R((function(e){return g(g({},e),{},{isHiddenScrollBar:!0})})):R((function(e){return g(g({},e),{},{isHiddenScrollBar:!1})}))}},O=function(e){R((function(n){return g(g({},n),{},{scrollLeft:e/v*x||0})}))};return e.useImperativeHandle(t,(function(){return{setScrollLeft:O}})),e.useEffect((function(){var e=f(document.body,"mouseup",T,!1),n=f(document.body,"mousemove",K,!1);return z(),function(){e.remove(),n.remove()}}),[h,H]),e.useEffect((function(){var e=f(u,"scroll",z,!1),n=f(window,"resize",z,!1);return function(){e.remove(),n.remove()}}),[u]),e.useEffect((function(){N.isHiddenScrollBar||R((function(e){var n=a.current;return n?g(g({},e),{},{scrollLeft:n.scrollLeft/n.scrollWidth*n.clientWidth}):e}))}),[N.isHiddenScrollBar]),e.useEffect((function(){z()}),[s]),v<=x||!h||N.isHiddenScrollBar?null:e.createElement("div",{style:{height:d(),width:x,bottom:i},className:"".concat(p,"-sticky-scroll")},e.createElement("div",{onMouseDown:function(e){e.persist(),k.current.delta=e.pageX-N.scrollLeft,k.current.x=0,M(!0),e.preventDefault()},ref:C,className:b("".concat(p,"-sticky-scroll-bar"),w({},"".concat(p,"-sticky-scroll-bar-active"),H)),style:{width:"".concat(h,"px"),transform:"translate3d(".concat(N.scrollLeft,"px, 0, 0)")}}))};const be=e.forwardRef(Ne);var Re="rc-table",ke=[],Ie={};function Le(){return"No Data"}function He(n,t){var r,i=g({rowKey:"key",prefixCls:Re,emptyText:Le},n),u=i.prefixCls,s=i.className,f=i.rowClassName,d=i.style,m=i.data,S=i.rowKey,N=i.scroll,k=i.tableLayout,I=i.direction,H=i.title,M=i.footer,T=i.summary,K=i.caption,z=i.id,O=i.showHeader,A=i.components,j=i.emptyText,F=i.onRow,X=i.onHeaderRow,D=i.internalHooks,Y=i.transformColumns,q=i.internalRefs,G=i.tailor,J=i.getContainerWidth,Q=i.sticky,Z=m||ke,$=!!Z.length,ee=D===L,ne=e.useCallback((function(e,n){return a(A,e)||n}),[A]),re=e.useMemo((function(){return"function"==typeof S?S:function(e){return e&&e[S]}}),[S]),oe=ne(["body"]),le=function(){var n=e.useState(-1),t=y(n,2),r=t[0],o=t[1],l=e.useState(-1),a=y(l,2),c=a[0],i=a[1];return[r,c,e.useCallback((function(e,n){o(e),i(n)}),[])]}(),ce=y(le,3),ie=ce[0],se=ce[1],de=ce[2],me=we(i,Z,re),pe=y(me,6),ve=pe[0],xe=pe[1],he=pe[2],Ce=pe[3],Ne=pe[4],He=pe[5],Me=null==N?void 0:N.x,Te=e.useState(0),Ke=y(Te,2),We=Ke[0],ze=Ke[1],Oe=ye(g(g(g({},i),ve),{},{expandable:!!ve.expandedRowRender,columnTitle:ve.columnTitle,expandedKeys:he,getRowKey:re,onTriggerExpand:He,expandIcon:Ce,expandIconColumnIndex:ve.expandIconColumnIndex,direction:I,scrollWidth:ee&&G&&"number"==typeof Me?Me:null,clientWidth:We}),ee?Y:null),Pe=y(Oe,4),Be=Pe[0],Ae=Pe[1],je=Pe[2],Fe=Pe[3],_e=null!=je?je:Me,Xe=e.useMemo((function(){return{columns:Be,flattenColumns:Ae}}),[Be,Ae]),De=e.useRef(),Ue=e.useRef(),Ve=e.useRef(),Ye=e.useRef();e.useImperativeHandle(t,(function(){return{nativeElement:De.current,scrollTo:function(e){var n;if(Ve.current instanceof HTMLElement){var t=e.index,r=e.top,o=e.key;if(r){var l;null===(l=Ve.current)||void 0===l||l.scrollTo({top:r})}else{var a,c=null!=o?o:re(Z[t]);null===(a=Ve.current.querySelector('[data-row-key="'.concat(c,'"]')))||void 0===a||a.scrollIntoView()}}else null!==(n=Ve.current)&&void 0!==n&&n.scrollTo&&Ve.current.scrollTo(e)}}}));var qe,Ge,Je,Qe=e.useRef(),Ze=e.useState(!1),$e=y(Ze,2),en=$e[0],nn=$e[1],tn=e.useState(!1),rn=y(tn,2),on=rn[0],ln=rn[1],an=ge(new Map),cn=y(an,2),un=cn[0],sn=cn[1],fn=P(Ae).map((function(e){return un.get(e)})),dn=e.useMemo((function(){return fn}),[fn.join("_")]),mn=function(n,t,r){return e.useMemo((function(){var e=t.length,o=function(e,r,o){for(var l=[],a=0,c=e;c!==r;c+=o)l.push(a),t[c].fixed&&(a+=n[c]||0);return l},l=o(0,e,1),a=o(e-1,-1,-1).reverse();return"rtl"===r?{left:a,right:l}:{left:l,right:a}}),[n,t,r])}(dn,Ae,I),pn=N&&B(N.y),vn=N&&B(_e)||Boolean(ve.fixed),xn=vn&&Ae.some((function(e){return e.fixed})),hn=e.useRef(),yn=function(n,t){var r="object"===C(n)?n:{},o=r.offsetHeader,l=void 0===o?0:o,a=r.offsetSummary,c=void 0===a?0:a,i=r.offsetScroll,u=void 0===i?0:i,s=r.getContainer,f=(void 0===s?function(){return Ee}:s)()||Ee;return e.useMemo((function(){var e=!!n;return{isSticky:e,stickyClassName:e?"".concat(t,"-sticky-holder"):"",offsetHeader:l,offsetSummary:c,offsetScroll:u,container:f}}),[u,l,c,t,f])}(Q,u),Cn=yn.isSticky,wn=yn.offsetHeader,gn=yn.offsetSummary,En=yn.offsetScroll,Sn=yn.stickyClassName,Nn=yn.container,bn=e.useMemo((function(){return null==T?void 0:T(Z)}),[T,Z]),Rn=(pn||Cn)&&e.isValidElement(bn)&&bn.type===U&&bn.props.fixed;pn&&(Ge={overflowY:"scroll",maxHeight:N.y}),vn&&(qe={overflowX:"auto"},pn||(Ge={overflowY:"hidden"}),Je={width:!0===_e?"auto":_e,minWidth:"100%"});var kn=e.useCallback((function(e,n){p(De.current)&&sn((function(t){if(t.get(e)!==n){var r=new Map(t);return r.set(e,n),r}return t}))}),[]),In=function(n){var t=e.useRef(n||null),r=e.useRef();function o(){window.clearTimeout(r.current)}return e.useEffect((function(){return o}),[]),[function(e){t.current=e,o(),r.current=window.setTimeout((function(){t.current=null,r.current=void 0}),100)},function(){return t.current}]}(null),Ln=y(In,2),Hn=Ln[0],Mn=Ln[1];function Tn(e,n){n&&("function"==typeof n?n(e):n.scrollLeft!==e&&(n.scrollLeft=e,n.scrollLeft!==e&&setTimeout((function(){n.scrollLeft=e}),0)))}var Kn=c((function(e){var n,t=e.currentTarget,r=e.scrollLeft,o="rtl"===I,l="number"==typeof r?r:t.scrollLeft,a=t||Ie;Mn()&&Mn()!==a||(Hn(a),Tn(l,Ue.current),Tn(l,Ve.current),Tn(l,Qe.current),Tn(l,null===(n=hn.current)||void 0===n?void 0:n.setScrollLeft));var c=t||Ue.current;if(c){var i=c.scrollWidth,u=c.clientWidth;if(i===u)return nn(!1),void ln(!1);o?(nn(-l<i-u),ln(-l>0)):(nn(l>0),ln(l<i-u))}})),Wn=function(){vn&&Ve.current?Kn({currentTarget:Ve.current}):(nn(!1),ln(!1))},zn=e.useRef(!1);e.useEffect((function(){zn.current&&Wn()}),[vn,m,Be.length]),e.useEffect((function(){zn.current=!0}),[]);var On=e.useState(0),Pn=y(On,2),Bn=Pn[0],An=Pn[1],jn=e.useState(!0),Fn=y(jn,2),_n=Fn[0],Xn=Fn[1];e.useEffect((function(){G&&ee||(Ve.current instanceof Element?An(v(Ve.current).width):An(v(Ye.current).width)),Xn(x("position","sticky"))}),[]),e.useEffect((function(){ee&&q&&(q.body.current=Ve.current)}));var Dn,Un=e.useCallback((function(n){return e.createElement(e.Fragment,null,e.createElement(fe,n),"top"===Rn&&e.createElement(V,n,bn))}),[Rn,bn]),Vn=e.useCallback((function(n){return e.createElement(V,n,bn)}),[bn]),Yn=ne(["table"],"table"),qn=e.useMemo((function(){return k||(xn?"max-content"===_e?"auto":"fixed":pn||Cn||Ae.some((function(e){return e.ellipsis}))?"fixed":"auto")}),[pn,xn,Ae,k,Cn]),Gn={colWidths:dn,columCount:Ae.length,stickyOffsets:mn,onHeaderRow:X,fixHeader:pn,scroll:N},Jn=e.useMemo((function(){return $?null:"function"==typeof j?j():j}),[$,j]),Qn=e.createElement(te,{data:Z,measureColumnWidth:pn||vn||Cn}),Zn=e.createElement(ae,{colWidths:Ae.map((function(e){return e.width})),columns:Ae}),$n=null!=K?e.createElement("caption",{className:"".concat(u,"-caption")},K):void 0,et=h(i,{data:!0}),nt=h(i,{aria:!0});if(pn||Cn){var tt;"function"==typeof oe?(tt=oe(Z,{scrollbarSize:Bn,ref:Ve,onScroll:Kn}),Gn.colWidths=Ae.map((function(e,n){var t=e.width,r=n===Ae.length-1?t-Bn:t;return"number"!=typeof r||Number.isNaN(r)?0:r}))):tt=e.createElement("div",{style:g(g({},qe),Ge),onScroll:Kn,ref:Ve,className:b("".concat(u,"-body"))},e.createElement(Yn,E({style:g(g({},Je),{},{tableLayout:qn})},nt),$n,Zn,Qn,!Rn&&bn&&e.createElement(V,{stickyOffsets:mn,flattenColumns:Ae},bn)));var rt=g(g(g({noData:!Z.length,maxContentScroll:vn&&"max-content"===_e},Gn),Xe),{},{direction:I,stickyClassName:Sn,onScroll:Kn});Dn=e.createElement(e.Fragment,null,!1!==O&&e.createElement(ue,E({},rt,{stickyTopOffset:wn,className:"".concat(u,"-header"),ref:Ue}),Un),tt,Rn&&"top"!==Rn&&e.createElement(ue,E({},rt,{stickyBottomOffset:gn,className:"".concat(u,"-summary"),ref:Qe}),Vn),Cn&&Ve.current&&Ve.current instanceof Element&&e.createElement(be,{ref:hn,offsetScroll:En,scrollBodyRef:Ve,onScroll:Kn,container:Nn,data:m}))}else Dn=e.createElement("div",{style:g(g({},qe),Ge),className:b("".concat(u,"-content")),onScroll:Kn,ref:Ve},e.createElement(Yn,E({style:g(g({},Je),{},{tableLayout:qn})},nt),$n,Zn,!1!==O&&e.createElement(fe,E({},Gn,Xe)),Qn,bn&&e.createElement(V,{stickyOffsets:mn,flattenColumns:Ae},bn)));var ot=e.createElement("div",E({className:b(u,s,(r={},w(r,"".concat(u,"-rtl"),"rtl"===I),w(r,"".concat(u,"-ping-left"),en),w(r,"".concat(u,"-ping-right"),on),w(r,"".concat(u,"-layout-fixed"),"fixed"===k),w(r,"".concat(u,"-fixed-header"),pn),w(r,"".concat(u,"-fixed-column"),xn),w(r,"".concat(u,"-fixed-column-gapped"),xn&&Fe),w(r,"".concat(u,"-scroll-horizontal"),vn),w(r,"".concat(u,"-has-fix-left"),Ae[0]&&Ae[0].fixed),w(r,"".concat(u,"-has-fix-right"),Ae[Ae.length-1]&&"right"===Ae[Ae.length-1].fixed),r)),style:d,id:z,ref:De},et),H&&e.createElement(Se,{className:"".concat(u,"-title")},H(Z)),e.createElement("div",{ref:Ye,className:"".concat(u,"-container")},Dn),M&&e.createElement(Se,{className:"".concat(u,"-footer")},M(Z)));vn&&(ot=e.createElement(R,{onResize:function(e){var n=e.width,t=De.current?De.current.offsetWidth:n;ee&&J&&De.current&&(t=J(De.current,t)||t),t!==We&&(Wn(),ze(t))}},ot));var lt=function(e,n,t){var r=e.map((function(r,o){return _(o,o,e,n,t)}));return o((function(){return r}),[r],(function(e,n){return!l(e,n)}))}(Ae,mn,I),at=e.useMemo((function(){return{scrollX:_e,prefixCls:u,getComponent:ne,scrollbarSize:Bn,direction:I,fixedInfoList:lt,isSticky:Cn,supportSticky:_n,componentWidth:We,fixHeader:pn,fixColumn:xn,horizonScroll:vn,tableLayout:qn,rowClassName:f,expandedRowClassName:ve.expandedRowClassName,expandIcon:Ce,expandableType:xe,expandRowByClick:ve.expandRowByClick,expandedRowRender:ve.expandedRowRender,onTriggerExpand:He,expandIconColumnIndex:ve.expandIconColumnIndex,indentSize:ve.indentSize,allColumnsFixedLeft:Ae.every((function(e){return"left"===e.fixed})),emptyNode:Jn,columns:Be,flattenColumns:Ae,onColumnResize:kn,hoverStartRow:ie,hoverEndRow:se,onHover:de,rowExpandable:ve.rowExpandable,onRow:F,getRowKey:re,expandedKeys:he,childrenColumnName:Ne}}),[_e,u,ne,Bn,I,lt,Cn,_n,We,pn,xn,vn,qn,f,ve.expandedRowClassName,Ce,xe,ve.expandRowByClick,ve.expandedRowRender,He,ve.expandIconColumnIndex,ve.indentSize,Jn,Be,Ae,kn,ie,se,de,ve.rowExpandable,F,re,he,Ne]);return e.createElement(W.Provider,{value:at},ot)}var Me=e.forwardRef(He);function Te(e){return M(Me,e)}var Ke=Te();Ke.EXPAND_COLUMN=I,Ke.INTERNAL_HOOKS=L,Ke.Column=function(e){return null},Ke.ColumnGroup=function(e){return null},Ke.Summary=Y;var We=t(null),ze=t(null);function Oe(n){var t=n.rowInfo,o=n.column,l=n.colIndex,a=n.indent,c=n.index,i=n.component,u=n.renderIndex,s=n.record,f=n.style,d=n.className,m=n.inverse,p=n.getHeight,v=o.render,x=o.dataIndex,h=o.className,y=o.width,C=r(ze,["columnsOffset"]).columnsOffset,w=Z(t,o,l,a,c),S=w.key,N=w.fixedInfo,R=w.appendCellNode,k=w.additionalCellProps,I=k.style,L=k.colSpan,H=void 0===L?1:L,M=k.rowSpan,T=void 0===M?1:M,K=function(e,n,t){return t[e+(n||1)]-(t[e]||0)}(l-1,H,C),W=H>1?y-K:0,z=g(g(g({},I),f),{},{flex:"0 0 ".concat(K,"px"),width:"".concat(K,"px"),marginRight:W,pointerEvents:"auto"}),O=e.useMemo((function(){return m?T<=1:0===H||0===T||T>1}),[T,H,m]);O?z.visibility="hidden":m&&(z.height=null==p?void 0:p(T));var P=O?function(){return null}:v,B={};return 0!==T&&0!==H||(B.rowSpan=1,B.colSpan=1),e.createElement(F,E({className:b(h,d),ellipsis:o.ellipsis,align:o.align,scope:o.rowScope,component:i,prefixCls:t.prefixCls,key:S,record:s,index:c,renderIndex:u,dataIndex:x,render:P,shouldCellUpdate:o.shouldCellUpdate},N,{appendNode:R,additionalProps:g(g({},k),{},{style:z},B)}))}var Pe=["data","index","className","rowKey","style","extra","getHeight"],Be=T(e.forwardRef((function(n,t){var o,l=n.data,a=n.index,c=n.className,i=n.rowKey,u=n.style,s=n.extra,f=n.getHeight,d=S(n,Pe),m=l.record,p=l.indent,v=l.index,x=r(W,["prefixCls","flattenColumns","fixColumn","componentWidth","scrollX"]),h=x.scrollX,y=x.flattenColumns,C=x.prefixCls,N=x.fixColumn,R=x.componentWidth,k=r(We,["getComponent"]).getComponent,I=J(m,i,a,p),L=k(["body","row"],"div"),H=k(["body","cell"],"div"),M=I.rowSupportExpand,T=I.expanded,K=I.rowProps,z=I.expandedRowRender,O=I.expandedRowClassName;if(M&&T){var P=z(m,a,p+1,T),B=null==O?void 0:O(m,a,p),A={};N&&(A={style:w({},"--virtual-width","".concat(R,"px"))});var j="".concat(C,"-expanded-row-cell");o=e.createElement(L,{className:b("".concat(C,"-expanded-row"),"".concat(C,"-expanded-row-level-").concat(p+1),B)},e.createElement(F,{component:H,prefixCls:C,className:b(j,w({},"".concat(j,"-fixed"),N)),additionalProps:A},P))}var _=g(g({},u),{},{width:h});s&&(_.position="absolute",_.pointerEvents="none");var X=e.createElement(L,E({},K,d,{ref:M?null:t,className:b(c,"".concat(C,"-row"),null==K?void 0:K.className,w({},"".concat(C,"-row-extra"),s)),style:g(g({},_),null==K?void 0:K.style)}),y.map((function(n,t){return e.createElement(Oe,{key:t,component:H,rowInfo:I,column:n,colIndex:t,indent:p,index:a,renderIndex:v,record:m,inverse:s,getHeight:f})})));return M?e.createElement("div",{ref:t},X,o):X}))),Ae=T(e.forwardRef((function(n,t){var o=n.data,l=n.onScroll,a=r(W,["flattenColumns","onColumnResize","getRowKey","prefixCls","expandedKeys","childrenColumnName","emptyNode","scrollX"]),c=a.flattenColumns,i=a.onColumnResize,u=a.getRowKey,s=a.expandedKeys,f=a.prefixCls,d=a.childrenColumnName,m=a.emptyNode,p=a.scrollX,v=r(We),x=v.sticky,h=v.scrollY,w=v.listItemHeight,g=v.getComponent,S=e.useRef(),N=G(o,d,s,u),R=e.useMemo((function(){var e=0;return c.map((function(n){var t=n.width;return[n.key,t,e+=t]}))}),[c]),I=e.useMemo((function(){return R.map((function(e){return e[2]}))}),[R]);e.useEffect((function(){R.forEach((function(e){var n=y(e,2),t=n[0],r=n[1];i(t,r)}))}),[R]),e.useImperativeHandle(t,(function(){var e={scrollTo:function(e){var n;null===(n=S.current)||void 0===n||n.scrollTo(e)}};return Object.defineProperty(e,"scrollLeft",{get:function(){var e;return(null===(e=S.current)||void 0===e?void 0:e.getScrollInfo().x)||0},set:function(e){var n;null===(n=S.current)||void 0===n||n.scrollTo({left:e})}}),e}));var L,H=function(e,n){var t,r=null===(t=N[n])||void 0===t?void 0:t.record,o=e.onCell;if(o){var l,a=o(r,n);return null!==(l=null==a?void 0:a.rowSpan)&&void 0!==l?l:1}return 1},M=e.useMemo((function(){return{columnsOffset:I}}),[I]),T="".concat(f,"-tbody"),K=g(["body","wrapper"]),z=g(["body","row"],"div"),O=g(["body","cell"],"div");if(N.length){var P={};x&&(P.position="sticky",P.bottom=0,"object"===C(x)&&x.offsetScroll&&(P.bottom=x.offsetScroll)),L=e.createElement(k,{fullHeight:!1,ref:S,prefixCls:"".concat(T,"-virtual"),styles:{horizontalScrollBar:P},className:T,height:h,itemHeight:w||24,data:N,itemKey:function(e){return u(e.record)},component:K,scrollWidth:p,onVirtualScroll:function(e){var n=e.x;l({scrollLeft:n})},extraRender:function(n){var t=n.start,r=n.end,o=n.getSize,l=n.offsetY;if(r<0)return null;for(var a=c.filter((function(e){return 0===H(e,t)})),i=t,s=function(e){if(!(a=a.filter((function(n){return 0===H(n,e)}))).length)return i=e,1},f=t;f>=0&&!s(f);f-=1);for(var d=c.filter((function(e){return 1!==H(e,r)})),m=r,p=function(e){if(!(d=d.filter((function(n){return 1!==H(n,e)}))).length)return m=Math.max(e-1,r),1},v=r;v<N.length&&!p(v);v+=1);for(var x=[],h=function(e){if(!N[e])return 1;c.some((function(n){return H(n,e)>1}))&&x.push(e)},y=i;y<=m;y+=1)h(y);return x.map((function(n){var t=N[n],r=u(t.record,n),a=o(r);return e.createElement(Be,{key:n,data:t,rowKey:r,index:n,style:{top:-l+a.top},extra:!0,getHeight:function(e){var t=n+e-1,l=u(N[t].record,t),a=o(r,l);return a.bottom-a.top}})}))}},(function(n,t,r){var o=u(n.record,t);return e.createElement(Be,E({data:n,rowKey:o,index:t},r))}))}else L=e.createElement(z,{className:b("".concat(f,"-placeholder"))},e.createElement(F,{component:O,prefixCls:f},m));return e.createElement(ze.Provider,{value:M},L)}))),je=function(n,t){var r=t.ref,o=t.onScroll;return e.createElement(Ae,{ref:r,data:n,onScroll:o})};function Fe(n,t){var r=n.columns,o=n.scroll,l=n.sticky,i=n.prefixCls,u=void 0===i?Re:i,s=n.className,f=n.listItemHeight,d=n.components,m=o||{},p=m.x,v=m.y;"number"!=typeof p&&(p=1),"number"!=typeof v&&(v=500);var x=c((function(e,n){return a(d,e)||n})),h=e.useMemo((function(){return{sticky:l,scrollY:v,listItemHeight:f,getComponent:x}}),[l,v,f,x]);return e.createElement(We.Provider,{value:h},e.createElement(Ke,E({},n,{className:b(s,"".concat(u,"-virtual")),scroll:g(g({},o),{},{x:p}),components:g(g({},d),{},{body:je}),columns:r,internalHooks:L,tailor:!0,ref:t})))}var _e=e.forwardRef(Fe);function Xe(e){return M(_e,e)}Xe();export{I as E,Y as F,oe as I,Xe as a,L as b,ve as c,Te as g};
