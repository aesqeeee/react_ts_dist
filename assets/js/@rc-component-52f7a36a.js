import{c as e,f as t,g as n,e as r,h as o,i,j as a,a as u,_ as c,d as l,b as s}from"./@babel-7994ac7b.js";import{r as f,a as v}from"./react-32c7b601.js";import{r as d}from"./react-dom-23648d3c.js";import{c as m,a as h,d as g,u as p,r as b,s as y,e as E,f as N,h as x,i as C,j as w,k as S,g as R,l as M,m as k,n as I}from"./rc-util-fa3fab39.js";import{c as A}from"./classnames-a0172216.js";import{R as P}from"./rc-resize-observer-c51b26ea.js";import{C as L}from"./rc-motion-254b4328.js";import{T as D}from"./@ctrl-4982d949.js";var T=f.createContext(null),F=[];var _="rc-util-locker-".concat(Date.now()),B=0;function H(t){var n=!!t,r=f.useState((function(){return B+=1,"".concat(_,"_").concat(B)})),o=e(r,1)[0];h((function(){if(n){var e=g(document.body).width,t=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;p("\nhtml body {\n  overflow-y: hidden;\n  ".concat(t?"width: calc(100% - ".concat(e,"px);"):"","\n}"),o)}else b(o);return function(){b(o)}}),[n,o])}var X=!1;var V=function(e){return!1!==e&&(m()&&e?"string"==typeof e?document.querySelector(e):"function"==typeof e?e():e:null)},Y=f.forwardRef((function(n,r){var o=n.open,i=n.autoLock,a=n.getContainer;n.debug;var u=n.autoDestroy,c=void 0===u||u,l=n.children,s=f.useState(o),v=e(s,2),g=v[0],p=v[1],b=g||o;f.useEffect((function(){(c||o)&&p(o)}),[o,c]);var N=f.useState((function(){return V(a)})),x=e(N,2),C=x[0],w=x[1];f.useEffect((function(){var e=V(a);w(null!=e?e:null)}));var S=function(n,r){var o=f.useState((function(){return m()?document.createElement("div"):null})),i=e(o,1)[0],a=f.useRef(!1),u=f.useContext(T),c=f.useState(F),l=e(c,2),s=l[0],v=l[1],d=u||(a.current?void 0:function(e){v((function(n){return[e].concat(t(n))}))});function g(){i.parentElement||document.body.appendChild(i),a.current=!0}function p(){var e;null===(e=i.parentElement)||void 0===e||e.removeChild(i),a.current=!1}return h((function(){return n?u?u(g):g():p(),p}),[n]),h((function(){s.length&&(s.forEach((function(e){return e()})),v(F))}),[s]),[i,d]}(b&&!C),R=e(S,2),M=R[0],k=R[1],I=null!=C?C:M;H(i&&o&&m()&&(I===M||I===document.body));var A=null;l&&y(l)&&r&&(A=l.ref);var P=E(A,r);if(!b||!m()||void 0===C)return null;var L,D=!1===I||("boolean"==typeof L&&(X=L),X),_=l;return r&&(_=f.cloneElement(l,{ref:P})),f.createElement(T.Provider,{value:k},D?_:d.createPortal(_,I))}));function j(e){var t=e.prefixCls,n=e.align,r=e.arrow,o=e.arrowPos,i=r||{},a=i.className,u=i.content,c=o.x,l=void 0===c?0:c,s=o.y,v=void 0===s?0:s,d=f.useRef();if(!n||!n.points)return null;var m={position:"absolute"};if(!1!==n.autoArrow){var h=n.points[0],g=n.points[1],p=h[0],b=h[1],y=g[0],E=g[1];p!==y&&["t","b"].includes(p)?"t"===p?m.top=0:m.bottom=0:m.top=v,b!==E&&["l","r"].includes(b)?"l"===b?m.left=0:m.right=0:m.left=l}return f.createElement("div",{ref:d,className:A("".concat(t,"-arrow"),a),style:m},u)}function z(e){var t=e.prefixCls,r=e.open,o=e.zIndex,i=e.mask,a=e.motion;return i?f.createElement(L,n({},a,{motionAppear:!0,visible:r,removeOnLeave:!0}),(function(e){var n=e.className;return f.createElement("div",{style:{zIndex:o},className:A("".concat(t,"-mask"),n)})})):null}var W=f.memo((function(e){return e.children}),(function(e,t){return t.cache})),O=f.forwardRef((function(t,o){var i=t.popup,a=t.className,u=t.prefixCls,c=t.style,l=t.target,s=t.onVisibleChanged,v=t.open,d=t.keepDom,m=t.fresh,g=t.onClick,p=t.mask,b=t.arrow,y=t.arrowPos,E=t.align,x=t.motion,C=t.maskMotion,w=t.forceRender,S=t.getPopupContainer,R=t.autoDestroy,M=t.portal,k=t.zIndex,I=t.onMouseEnter,D=t.onMouseLeave,T=t.onPointerEnter,F=t.ready,_=t.offsetX,B=t.offsetY,H=t.offsetR,X=t.offsetB,V=t.onAlign,Y=t.onPrepare,O=t.stretch,G=t.targetWidth,$=t.targetHeight,q="function"==typeof i?i():i,J=v||d,U=(null==S?void 0:S.length)>0,K=f.useState(!S||!U),Q=e(K,2),Z=Q[0],ee=Q[1];if(h((function(){!Z&&U&&l&&ee(!0)}),[Z,U,l]),!Z)return null;var te="auto",ne={left:"-1000vw",top:"-1000vh",right:te,bottom:te};if(F||!v){var re,oe=E.points,ie=E.dynamicInset||(null===(re=E._experimental)||void 0===re?void 0:re.dynamicInset),ae=ie&&"r"===oe[0][1],ue=ie&&"b"===oe[0][0];ae?(ne.right=H,ne.left=te):(ne.left=_,ne.right=te),ue?(ne.bottom=X,ne.top=te):(ne.top=B,ne.bottom=te)}var ce={};return O&&(O.includes("height")&&$?ce.height=$:O.includes("minHeight")&&$&&(ce.minHeight=$),O.includes("width")&&G?ce.width=G:O.includes("minWidth")&&G&&(ce.minWidth=G)),v||(ce.pointerEvents="none"),f.createElement(M,{open:w||J,getContainer:S&&function(){return S(l)},autoDestroy:R},f.createElement(z,{prefixCls:u,open:v,zIndex:k,mask:p,motion:C}),f.createElement(P,{onResize:V,disabled:!v},(function(e){return f.createElement(L,n({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:w,leavedClassName:"".concat(u,"-hidden")},x,{onAppearPrepare:Y,onEnterPrepare:Y,visible:v,onVisibleChanged:function(e){var t;null==x||null===(t=x.onVisibleChanged)||void 0===t||t.call(x,e),s(e)}}),(function(t,n){var i=t.className,l=t.style,s=A(u,i,a);return f.createElement("div",{ref:N(e,o,n),className:s,style:r(r(r(r({"--arrow-x":"".concat(y.x||0,"px"),"--arrow-y":"".concat(y.y||0,"px")},ne),ce),l),{},{boxSizing:"border-box",zIndex:k},c),onMouseEnter:I,onMouseLeave:D,onPointerEnter:T,onClick:g},b&&f.createElement(j,{prefixCls:u,arrow:b,arrowPos:y,align:E}),f.createElement(W,{cache:!v&&!m},q))}))})))})),G=f.forwardRef((function(e,t){var n=e.children,r=e.getTriggerDOMNode,o=y(n),i=f.useCallback((function(e){x(t,r?r(e):e)}),[r]),a=E(i,n.ref);return o?f.cloneElement(n,{ref:a}):n})),$=f.createContext(null);function q(e){return e?Array.isArray(e)?e:[e]:[]}function J(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(arguments.length>2?arguments[2]:void 0)?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function U(e,t,n,r){return t||(n?{motionName:"".concat(e,"-").concat(n)}:r?{motionName:r}:null)}function K(e){return e.ownerDocument.defaultView}function Q(e){for(var t=[],n=null==e?void 0:e.parentElement,r=["hidden","scroll","clip","auto"];n;){var o=K(n).getComputedStyle(n);[o.overflowX,o.overflowY,o.overflow].some((function(e){return r.includes(e)}))&&t.push(n),n=n.parentElement}return t}function Z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Number.isNaN(e)?t:e}function ee(e){return Z(parseFloat(e),0)}function te(e,t){var n=r({},e);return(t||[]).forEach((function(e){if(!(e instanceof HTMLBodyElement||e instanceof HTMLHtmlElement)){var t=K(e).getComputedStyle(e),r=t.overflow,o=t.overflowClipMargin,i=t.borderTopWidth,a=t.borderBottomWidth,u=t.borderLeftWidth,c=t.borderRightWidth,l=e.getBoundingClientRect(),s=e.offsetHeight,f=e.clientHeight,v=e.offsetWidth,d=e.clientWidth,m=ee(i),h=ee(a),g=ee(u),p=ee(c),b=Z(Math.round(l.width/v*1e3)/1e3),y=Z(Math.round(l.height/s*1e3)/1e3),E=(v-d-g-p)*b,N=(s-f-m-h)*y,x=m*y,C=h*y,w=g*b,S=p*b,R=0,M=0;if("clip"===r){var k=ee(o);R=k*b,M=k*y}var I=l.x+w-R,A=l.y+x-M,P=I+l.width+2*R-w-S-E,L=A+l.height+2*M-x-C-N;n.left=Math.max(n.left,I),n.top=Math.max(n.top,A),n.right=Math.min(n.right,P),n.bottom=Math.min(n.bottom,L)}})),n}function ne(e){var t="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),n=t.match(/^(.*)\%$/);return n?e*(parseFloat(n[1])/100):parseFloat(t)}function re(t,n){var r=e(n||[],2),o=r[0],i=r[1];return[ne(t.width,o),ne(t.height,i)]}function oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[e[0],e[1]]}function ie(e,t){var n,r=t[0],o=t[1];return n="t"===r?e.y:"b"===r?e.y+e.height:e.y+e.height/2,{x:"l"===o?e.x:"r"===o?e.x+e.width:e.x+e.width/2,y:n}}function ae(e,t){var n={t:"b",b:"t",l:"r",r:"l"};return e.map((function(e,r){return r===t?n[e]||"c":e})).join("")}var ue=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];const ce=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y;return f.forwardRef((function(i,a){var u=i.prefixCls,c=void 0===u?"rc-trigger-popup":u,l=i.children,s=i.action,v=void 0===s?"hover":s,d=i.showAction,m=i.hideAction,g=i.popupVisible,p=i.defaultPopupVisible,b=i.onPopupVisibleChange,y=i.afterPopupVisibleChange,E=i.mouseEnterDelay,N=i.mouseLeaveDelay,x=void 0===N?.1:N,I=i.focusDelay,L=i.blurDelay,D=i.mask,T=i.maskClosable,F=void 0===T||T,_=i.getPopupContainer,B=i.forceRender,H=i.autoDestroy,X=i.destroyPopupOnHide,V=i.popup,Y=i.popupClassName,j=i.popupStyle,z=i.popupPlacement,W=i.builtinPlacements,ee=void 0===W?{}:W,ne=i.popupAlign,ce=i.zIndex,le=i.stretch,se=i.getPopupClassNameFromAlign,fe=i.fresh,ve=i.alignPoint,de=i.onPopupClick,me=i.onPopupAlign,he=i.arrow,ge=i.popupMotion,pe=i.maskMotion,be=i.popupTransitionName,ye=i.popupAnimation,Ee=i.maskTransitionName,Ne=i.maskAnimation,xe=i.className,Ce=i.getTriggerDOMNode,we=o(i,ue),Se=H||X||!1,Re=f.useState(!1),Me=e(Re,2),ke=Me[0],Ie=Me[1];h((function(){Ie(M())}),[]);var Ae=f.useRef({}),Pe=f.useContext($),Le=f.useMemo((function(){return{registerSubPopup:function(e,t){Ae.current[e]=t,null==Pe||Pe.registerSubPopup(e,t)}}}),[Pe]),De=k(),Te=f.useState(null),Fe=e(Te,2),_e=Fe[0],Be=Fe[1],He=C((function(e){w(e)&&_e!==e&&Be(e),null==Pe||Pe.registerSubPopup(De,e)})),Xe=f.useState(null),Ve=e(Xe,2),Ye=Ve[0],je=Ve[1],ze=f.useRef(null),We=C((function(e){w(e)&&Ye!==e&&(je(e),ze.current=e)})),Oe=f.Children.only(l),Ge=(null==Oe?void 0:Oe.props)||{},$e={},qe=C((function(e){var t,n,r=Ye;return(null==r?void 0:r.contains(e))||(null===(t=R(r))||void 0===t?void 0:t.host)===e||e===r||(null==_e?void 0:_e.contains(e))||(null===(n=R(_e))||void 0===n?void 0:n.host)===e||e===_e||Object.values(Ae.current).some((function(t){return(null==t?void 0:t.contains(e))||e===t}))})),Je=U(c,ge,ye,be),Ue=U(c,pe,Ne,Ee),Ke=f.useState(p||!1),Qe=e(Ke,2),Ze=Qe[0],et=Qe[1],tt=null!=g?g:Ze,nt=C((function(e){void 0===g&&et(e)}));h((function(){et(g||!1)}),[g]);var rt=f.useRef(tt);rt.current=tt;var ot=f.useRef([]);ot.current=[];var it=C((function(e){var t;nt(e),(null!==(t=ot.current[ot.current.length-1])&&void 0!==t?t:tt)!==e&&(ot.current.push(e),null==b||b(e))})),at=f.useRef(),ut=function(){clearTimeout(at.current)},ct=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;ut(),0===t?it(e):at.current=setTimeout((function(){it(e)}),1e3*t)};f.useEffect((function(){return ut}),[]);var lt=f.useState(!1),st=e(lt,2),ft=st[0],vt=st[1];h((function(e){e&&!tt||vt(!0)}),[tt]);var dt=f.useState(null),mt=e(dt,2),ht=mt[0],gt=mt[1],pt=f.useState([0,0]),bt=e(pt,2),yt=bt[0],Et=bt[1],Nt=function(e){Et([e.clientX,e.clientY])},xt=function(t,n,o,i,a,u,c){var l=f.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:a[i]||{}}),s=e(l,2),v=s[0],d=s[1],m=f.useRef(0),g=f.useMemo((function(){return n?Q(n):[]}),[n]),p=f.useRef({});t||(p.current={});var b=C((function(){if(n&&o&&t){let t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Q,r=P.x+e,o=P.y+t,i=r+V,a=o+X,u=Math.max(r,n.left),c=Math.max(o,n.top),l=Math.min(i,n.right),s=Math.min(a,n.bottom);return Math.max(0,(l-u)*(s-c))},Nt=function(){ye=P.y+Le,Ee=ye+X,Ne=P.x+Pe,xe=Ne+V};var l,s,f,v=n,m=v.ownerDocument,h=K(v).getComputedStyle(v),b=h.width,y=h.height,E=h.position,N=v.style.left,x=v.style.top,C=v.style.right,R=v.style.bottom,M=v.style.overflow,k=r(r({},a[i]),u),I=m.createElement("div");if(null===(l=v.parentElement)||void 0===l||l.appendChild(I),I.style.left="".concat(v.offsetLeft,"px"),I.style.top="".concat(v.offsetTop,"px"),I.style.position=E,I.style.height="".concat(v.offsetHeight,"px"),I.style.width="".concat(v.offsetWidth,"px"),v.style.left="0",v.style.top="0",v.style.right="auto",v.style.bottom="auto",v.style.overflow="hidden",Array.isArray(o))f={x:o[0],y:o[1],width:0,height:0};else{var A=o.getBoundingClientRect();f={x:A.x,y:A.y,width:A.width,height:A.height}}var P=v.getBoundingClientRect(),L=m.documentElement,D=L.clientWidth,T=L.clientHeight,F=L.scrollWidth,_=L.scrollHeight,B=L.scrollTop,H=L.scrollLeft,X=P.height,V=P.width,Y=f.height,j=f.width,z={left:0,top:0,right:D,bottom:T},W={left:-H,top:-B,right:F-H,bottom:_-B},O=k.htmlRegion,G="visible",$="visibleFirst";"scroll"!==O&&O!==$&&(O=G);var q=O===$,J=te(W,g),U=te(z,g),Q=O===G?U:J,ee=q?U:Q;v.style.left="auto",v.style.top="auto",v.style.right="0",v.style.bottom="0";var ne=v.getBoundingClientRect();v.style.left=N,v.style.top=x,v.style.right=C,v.style.bottom=R,v.style.overflow=M,null===(s=v.parentElement)||void 0===s||s.removeChild(I);var ue=Z(Math.round(V/parseFloat(b)*1e3)/1e3),ce=Z(Math.round(X/parseFloat(y)*1e3)/1e3);if(0===ue||0===ce||w(o)&&!S(o))return;var le=k.offset,se=k.targetOffset,fe=re(P,le),ve=e(fe,2),de=ve[0],me=ve[1],he=re(f,se),ge=e(he,2),pe=ge[0],be=ge[1];f.x-=pe,f.y-=be;var ye,Ee,Ne,xe,Ce=k.points||[],we=e(Ce,2),Se=we[0],Re=oe(we[1]),Me=oe(Se),ke=ie(f,Re),Ie=ie(P,Me),Ae=r({},k),Pe=ke.x-Ie.x+de,Le=ke.y-Ie.y+me,De=t(Pe,Le),Te=t(Pe,Le,U),Fe=ie(f,["t","l"]),_e=ie(P,["t","l"]),Be=ie(f,["b","r"]),He=ie(P,["b","r"]),Xe=k.overflow||{},Ve=Xe.adjustX,Ye=Xe.adjustY,je=Xe.shiftX,ze=Xe.shiftY,We=function(e){return"boolean"==typeof e?e:e>=0};Nt();var Oe=We(Ye),Ge=Me[0]===Re[0];if(Oe&&"t"===Me[0]&&(Ee>ee.bottom||p.current.bt)){var $e=Le;Ge?$e-=X-Y:$e=Fe.y-He.y-me;var qe=t(Pe,$e),Je=t(Pe,$e,U);qe>De||qe===De&&(!q||Je>=Te)?(p.current.bt=!0,Le=$e,me=-me,Ae.points=[ae(Me,0),ae(Re,0)]):p.current.bt=!1}if(Oe&&"b"===Me[0]&&(ye<ee.top||p.current.tb)){var Ue=Le;Ge?Ue+=X-Y:Ue=Be.y-_e.y-me;var Ke=t(Pe,Ue),Qe=t(Pe,Ue,U);Ke>De||Ke===De&&(!q||Qe>=Te)?(p.current.tb=!0,Le=Ue,me=-me,Ae.points=[ae(Me,0),ae(Re,0)]):p.current.tb=!1}var Ze=We(Ve),et=Me[1]===Re[1];if(Ze&&"l"===Me[1]&&(xe>ee.right||p.current.rl)){var tt=Pe;et?tt-=V-j:tt=Fe.x-He.x-de;var nt=t(tt,Le),rt=t(tt,Le,U);nt>De||nt===De&&(!q||rt>=Te)?(p.current.rl=!0,Pe=tt,de=-de,Ae.points=[ae(Me,1),ae(Re,1)]):p.current.rl=!1}if(Ze&&"r"===Me[1]&&(Ne<ee.left||p.current.lr)){var ot=Pe;et?ot+=V-j:ot=Be.x-_e.x-de;var it=t(ot,Le),at=t(ot,Le,U);it>De||it===De&&(!q||at>=Te)?(p.current.lr=!0,Pe=ot,de=-de,Ae.points=[ae(Me,1),ae(Re,1)]):p.current.lr=!1}Nt();var ut=!0===je?0:je;"number"==typeof ut&&(Ne<U.left&&(Pe-=Ne-U.left-de,f.x+j<U.left+ut&&(Pe+=f.x-U.left+j-ut)),xe>U.right&&(Pe-=xe-U.right-de,f.x>U.right-ut&&(Pe+=f.x-U.right+ut)));var ct=!0===ze?0:ze;"number"==typeof ct&&(ye<U.top&&(Le-=ye-U.top-me,f.y+Y<U.top+ct&&(Le+=f.y-U.top+Y-ct)),Ee>U.bottom&&(Le-=Ee-U.bottom-me,f.y>U.bottom-ct&&(Le+=f.y-U.bottom+ct)));var lt=P.x+Pe,st=lt+V,ft=P.y+Le,vt=ft+X,dt=f.x,mt=dt+j,ht=f.y,gt=ht+Y,pt=(Math.max(lt,dt)+Math.min(st,mt))/2-lt,bt=(Math.max(ft,ht)+Math.min(vt,gt))/2-ft;null==c||c(n,Ae);var yt=ne.right-P.x-(Pe+P.width),Et=ne.bottom-P.y-(Le+P.height);d({ready:!0,offsetX:Pe/ue,offsetY:Le/ce,offsetR:yt/ue,offsetB:Et/ce,arrowX:pt/ue,arrowY:bt/ce,scaleX:ue,scaleY:ce,align:Ae})}})),y=function(){d((function(e){return r(r({},e),{},{ready:!1})}))};return h(y,[i]),h((function(){t||y()}),[t]),[v.ready,v.offsetX,v.offsetY,v.offsetR,v.offsetB,v.arrowX,v.arrowY,v.scaleX,v.scaleY,v.align,function(){m.current+=1;var e=m.current;Promise.resolve().then((function(){m.current===e&&b()}))}]}(tt,_e,ve?yt:Ye,z,ee,ne,me),Ct=e(xt,11),wt=Ct[0],St=Ct[1],Rt=Ct[2],Mt=Ct[3],kt=Ct[4],It=Ct[5],At=Ct[6],Pt=Ct[7],Lt=Ct[8],Dt=Ct[9],Tt=Ct[10],Ft=function(e,t,n,r){return f.useMemo((function(){var o=q(null!=n?n:t),i=q(null!=r?r:t),a=new Set(o),u=new Set(i);return e&&(a.has("hover")&&(a.delete("hover"),a.add("click")),u.has("hover")&&(u.delete("hover"),u.add("click"))),[a,u]}),[e,t,n,r])}(ke,v,d,m),_t=e(Ft,2),Bt=_t[0],Ht=_t[1],Xt=Bt.has("click"),Vt=Ht.has("click")||Ht.has("contextMenu"),Yt=C((function(){ft||Tt()}));!function(e,n,r,o,i){h((function(){if(e&&n&&r){let e=function(){o(),i()};var a=r,u=Q(n),c=Q(a),l=K(a),s=new Set([l].concat(t(u),t(c)));return s.forEach((function(t){t.addEventListener("scroll",e,{passive:!0})})),l.addEventListener("resize",e,{passive:!0}),o(),function(){s.forEach((function(t){t.removeEventListener("scroll",e),l.removeEventListener("resize",e)}))}}}),[e,n,r])}(tt,Ye,_e,Yt,(function(){rt.current&&ve&&Vt&&ct(!1)})),h((function(){Yt()}),[yt,z]),h((function(){!tt||null!=ee&&ee[z]||Yt()}),[JSON.stringify(ne)]);var jt=f.useMemo((function(){var e=function(e,t,n,r){for(var o=n.points,i=Object.keys(e),a=0;a<i.length;a+=1){var u,c=i[a];if(J(null===(u=e[c])||void 0===u?void 0:u.points,o,r))return"".concat(t,"-placement-").concat(c)}return""}(ee,c,Dt,ve);return A(e,null==se?void 0:se(Dt))}),[Dt,se,ee,c,ve]);f.useImperativeHandle(a,(function(){return{nativeElement:ze.current,forceAlign:Yt}}));var zt=f.useState(0),Wt=e(zt,2),Ot=Wt[0],Gt=Wt[1],$t=f.useState(0),qt=e($t,2),Jt=qt[0],Ut=qt[1],Kt=function(){if(le&&Ye){var e=Ye.getBoundingClientRect();Gt(e.width),Ut(e.height)}};function Qt(e,t,n,r){$e[e]=function(o){var i;null==r||r(o),ct(t,n);for(var a=arguments.length,u=new Array(a>1?a-1:0),c=1;c<a;c++)u[c-1]=arguments[c];null===(i=Ge[e])||void 0===i||i.call.apply(i,[Ge,o].concat(u))}}h((function(){ht&&(Tt(),ht(),gt(null))}),[ht]),(Xt||Vt)&&($e.onClick=function(e){var t;rt.current&&Vt?ct(!1):!rt.current&&Xt&&(Nt(e),ct(!0));for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];null===(t=Ge.onClick)||void 0===t||t.call.apply(t,[Ge,e].concat(r))}),function(e,t,n,r,o,i,a,u){var c=f.useRef(e);c.current=e,f.useEffect((function(){if(t&&r&&(!o||i)){var e=function(e){var t=e.target;c.current&&!a(t)&&u(!1)},l=K(r);l.addEventListener("mousedown",e,!0),l.addEventListener("contextmenu",e,!0);var s=R(n);return s&&(s.addEventListener("mousedown",e,!0),s.addEventListener("contextmenu",e,!0)),function(){l.removeEventListener("mousedown",e,!0),l.removeEventListener("contextmenu",e,!0),s&&(s.removeEventListener("mousedown",e,!0),s.removeEventListener("contextmenu",e,!0))}}}),[t,n,r,o,i])}(tt,Vt,Ye,_e,D,F,qe,ct);var Zt,en,tn=Bt.has("hover"),nn=Ht.has("hover");tn&&(Qt("onMouseEnter",!0,E,(function(e){Nt(e)})),Qt("onPointerEnter",!0,E,(function(e){Nt(e)})),Zt=function(e){(tt||ft)&&null!=_e&&_e.contains(e.target)&&ct(!0,E)},ve&&($e.onMouseMove=function(e){var t;null===(t=Ge.onMouseMove)||void 0===t||t.call(Ge,e)})),nn&&(Qt("onMouseLeave",!1,x),Qt("onPointerLeave",!1,x),en=function(){ct(!1,x)}),Bt.has("focus")&&Qt("onFocus",!0,I),Ht.has("focus")&&Qt("onBlur",!1,L),Bt.has("contextMenu")&&($e.onContextMenu=function(e){var t;rt.current&&Ht.has("contextMenu")?ct(!1):(Nt(e),ct(!0)),e.preventDefault();for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];null===(t=Ge.onContextMenu)||void 0===t||t.call.apply(t,[Ge,e].concat(r))}),xe&&($e.className=A(Ge.className,xe));var rn=r(r({},Ge),$e),on={};["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"].forEach((function(e){we[e]&&(on[e]=function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];null===(t=rn[e])||void 0===t||t.call.apply(t,[rn].concat(r)),we[e].apply(we,r)})}));var an=f.cloneElement(Oe,r(r({},rn),on)),un={x:It,y:At},cn=he?r({},!0!==he?he:{}):null;return f.createElement(f.Fragment,null,f.createElement(P,{disabled:!tt,ref:We,onResize:function(){Kt(),Yt()}},f.createElement(G,{getTriggerDOMNode:Ce},an)),f.createElement($.Provider,{value:Le},f.createElement(O,{portal:n,ref:He,prefixCls:c,popup:V,className:A(Y,jt),style:j,target:Ye,onMouseEnter:Zt,onMouseLeave:en,onPointerEnter:Zt,zIndex:ce,open:tt,keepDom:ft,fresh:fe,onClick:de,mask:D,motion:Je,maskMotion:Ue,onVisibleChanged:function(e){vt(!1),Tt(),null==y||y(e)},onPrepare:function(){return new Promise((function(e){Kt(),gt((function(){return e}))}))},forceRender:B,autoDestroy:Se,getPopupContainer:_,align:Dt,arrow:cn,arrowPos:un,ready:wt,offsetX:St,offsetY:Rt,offsetR:Mt,offsetB:kt,onAlign:Yt,stretch:le,targetWidth:Ot/Pt,targetHeight:Jt/Lt})))}))}(Y);var le=["b"],se=["v"],fe=function(e){return Math.round(Number(e||0))},ve=function(e){i(n,D);var t=a(n);function n(e){return u(this,n),t.call(this,function(e){if(e&&"object"===l(e)&&"h"in e&&"b"in e){var t=e,n=t.b,i=o(t,le);return r(r({},i),{},{v:n})}return"string"==typeof e&&/hsb/.test(e)?e.replace(/hsb/,"hsv"):e}(e))}return c(n,[{key:"toHsbString",value:function(){var e=this.toHsb(),t=fe(100*e.s),n=fe(100*e.b),r=fe(e.h),o=e.a,i="hsb(".concat(r,", ").concat(t,"%, ").concat(n,"%)"),a="hsba(".concat(r,", ").concat(t,"%, ").concat(n,"%, ").concat(o.toFixed(0===o?0:2),")");return 1===o?i:a}},{key:"toHsb",value:function(){var e=this.toHsv();"object"===l(this.originalInput)&&this.originalInput&&"h"in this.originalInput&&(e=this.originalInput);var t=e;t.v;var n=o(t,se);return r(r({},n),{},{b:e.v,a:this.a})}}]),n}(),de=function(e){return e instanceof ve?e:new ve(e)},me=de("#1677ff"),he=function(e){var t=e.offset,n=e.targetRef,o=e.containerRef,i=e.color,a=e.type,u=o.current.getBoundingClientRect(),c=u.width,l=u.height,s=n.current.getBoundingClientRect(),f=s.width/2,v=s.height/2,d=(t.x+f)/c,m=1-(t.y+v)/l,h=i.toHsb(),g=d,p=(t.x+f)/c*360;if(a)switch(a){case"hue":return de(r(r({},h),{},{h:p<=0?0:p}));case"alpha":return de(r(r({},h),{},{a:g<=0?0:g}))}return de({h:h.h,s:d<=0?0:d,b:m>=1?1:m,a:h.a})},ge=function(e,t,n,r){var o=e.current.getBoundingClientRect(),i=o.width,a=o.height,u=t.current.getBoundingClientRect(),c=u.width,l=u.height,s=c/2,f=l/2,v=n.toHsb();if((0!==c||0!==l)&&c===l){if(r)switch(r){case"hue":return{x:v.h/360*i-s,y:-f/3};case"alpha":return{x:v.a/1*i-s,y:-f/3}}return{x:v.s*i-s,y:(1-v.b)*a-f}}},pe=function(e){var t=e.color,n=e.prefixCls,r=e.className,o=e.style,i=e.onClick,a="".concat(n,"-color-block");return v.createElement("div",{className:A(a,r),style:o,onClick:i},v.createElement("div",{className:"".concat(a,"-inner"),style:{background:t}}))};function be(t){var n=t.offset,r=t.targetRef,o=t.containerRef,i=t.direction,a=t.onDragChange,u=t.onDragChangeComplete,c=t.calculate,l=t.color,s=t.disabledDrag,v=f.useState(n||{x:0,y:0}),d=e(v,2),m=d[0],h=d[1],g=f.useRef(null),p=f.useRef(null),b=f.useRef({flag:!1});f.useEffect((function(){if(!1===b.current.flag){var e=null==c?void 0:c(o);e&&h(e)}}),[l,o]),f.useEffect((function(){return function(){document.removeEventListener("mousemove",g.current),document.removeEventListener("mouseup",p.current),document.removeEventListener("touchmove",g.current),document.removeEventListener("touchend",p.current),g.current=null,p.current=null}}),[]);var y=function(e){var t=function(e){var t="touches"in e?e.touches[0]:e,n=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,r=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:t.pageX-n,pageY:t.pageY-r}}(e),n=t.pageX,u=t.pageY,c=o.current.getBoundingClientRect(),l=c.x,s=c.y,f=c.width,v=c.height,d=r.current.getBoundingClientRect(),g=d.width,p=d.height,b=g/2,y=p/2,E=Math.max(0,Math.min(n-l,f))-b,N=Math.max(0,Math.min(u-s,v))-y,x={x:E,y:"x"===i?m.y:N};if(0===g&&0===p||g!==p)return!1;h(x),null==a||a(x)},E=function(e){e.preventDefault(),y(e)},N=function(e){e.preventDefault(),b.current.flag=!1,document.removeEventListener("mousemove",g.current),document.removeEventListener("mouseup",p.current),document.removeEventListener("touchmove",g.current),document.removeEventListener("touchend",p.current),g.current=null,p.current=null,null==u||u()};return[m,function(e){document.removeEventListener("mousemove",g.current),document.removeEventListener("mouseup",p.current),s||(y(e),b.current.flag=!0,document.addEventListener("mousemove",E),document.addEventListener("mouseup",N),document.addEventListener("touchmove",E),document.addEventListener("touchend",N),g.current=E,p.current=N)}]}var ye=function(e){var t=e.size,n=void 0===t?"default":t,r=e.color,o=e.prefixCls;return v.createElement("div",{className:A("".concat(o,"-handler"),s({},"".concat(o,"-handler-sm"),"small"===n)),style:{backgroundColor:r}})},Ee=function(e){var t=e.children,n=e.style,o=e.prefixCls;return v.createElement("div",{className:"".concat(o,"-palette"),style:r({position:"relative"},n)},t)},Ne=f.forwardRef((function(e,t){var n=e.children,r=e.offset;return v.createElement("div",{ref:t,style:{position:"absolute",left:r.x,top:r.y,zIndex:1}},n)})),xe=function(t){var n=t.color,r=t.onChange,o=t.prefixCls,i=t.onChangeComplete,a=t.disabled,u=f.useRef(),c=f.useRef(),l=f.useRef(n),s=C((function(e){var t=he({offset:e,targetRef:c,containerRef:u,color:n});l.current=t,r(t)})),d=be({color:n,containerRef:u,targetRef:c,calculate:function(e){return ge(e,c,n)},onDragChange:s,onDragChangeComplete:function(){return null==i?void 0:i(l.current)},disabledDrag:a}),m=e(d,2),h=m[0],g=m[1];return v.createElement("div",{ref:u,className:"".concat(o,"-select"),onMouseDown:g,onTouchStart:g},v.createElement(Ee,{prefixCls:o},v.createElement(Ne,{offset:h,ref:c},v.createElement(ye,{color:n.toRgbString(),prefixCls:o})),v.createElement("div",{className:"".concat(o,"-saturation"),style:{backgroundColor:"hsl(".concat(n.toHsb().h,",100%, 50%)"),backgroundImage:"linear-gradient(0deg, #000, transparent),linear-gradient(90deg, #fff, hsla(0, 0%, 100%, 0))"}})))},Ce=function(e){var t=e.colors,n=e.children,r=e.direction,o=void 0===r?"to right":r,i=e.type,a=e.prefixCls,u=f.useMemo((function(){return t.map((function(e,n){var r=de(e);return"alpha"===i&&n===t.length-1&&r.setAlpha(1),r.toRgbString()})).join(",")}),[t,i]);return v.createElement("div",{className:"".concat(a,"-gradient"),style:{position:"absolute",inset:0,background:"linear-gradient(".concat(o,", ").concat(u,")")}},n)},we=function(t){var n=t.gradientColors,r=t.direction,o=t.type,i=void 0===o?"hue":o,a=t.color,u=t.value,c=t.onChange,l=t.onChangeComplete,s=t.disabled,d=t.prefixCls,m=f.useRef(),h=f.useRef(),g=f.useRef(a),p=C((function(e){var t=he({offset:e,targetRef:h,containerRef:m,color:a,type:i});g.current=t,c(t)})),b=be({color:a,targetRef:h,containerRef:m,calculate:function(e){return ge(e,h,a,i)},onDragChange:p,onDragChangeComplete:function(){null==l||l(g.current,i)},direction:"x",disabledDrag:s}),y=e(b,2),E=y[0],N=y[1];return v.createElement("div",{ref:m,className:A("".concat(d,"-slider"),"".concat(d,"-slider-").concat(i)),onMouseDown:N,onTouchStart:N},v.createElement(Ee,{prefixCls:d},v.createElement(Ne,{offset:E,ref:h},v.createElement(ye,{size:"small",color:u,prefixCls:d})),v.createElement(Ce,{colors:n,direction:r,type:i,prefixCls:d})))};function Se(e){return void 0!==e}var Re=["rgb(255, 0, 0) 0%","rgb(255, 255, 0) 17%","rgb(0, 255, 0) 33%","rgb(0, 255, 255) 50%","rgb(0, 0, 255) 67%","rgb(255, 0, 255) 83%","rgb(255, 0, 0) 100%"];const Me=f.forwardRef((function(t,r){var o=t.value,i=t.defaultValue,a=t.prefixCls,u=void 0===a?"rc-color-picker":a,c=t.onChange,l=t.onChangeComplete,d=t.className,m=t.style,h=t.panelRender,g=t.disabledAlpha,p=void 0!==g&&g,b=t.disabled,y=void 0!==b&&b,E=function(t,n){var r=n.defaultValue,o=n.value,i=f.useState((function(){var e;return e=Se(o)?o:Se(r)?r:t,de(e)})),a=e(i,2),u=a[0],c=a[1];return f.useEffect((function(){o&&c(de(o))}),[o]),[u,c]}(me,{value:o,defaultValue:i}),N=e(E,2),x=N[0],C=N[1],w=f.useMemo((function(){var e=de(x.toRgbString());return e.setAlpha(1),e.toRgbString()}),[x]),S=A("".concat(u,"-panel"),d,s({},"".concat(u,"-panel-disabled"),y)),R={prefixCls:u,onChangeComplete:l,disabled:y},M=function(e,t){o||C(e),null==c||c(e,t)},k=v.createElement(v.Fragment,null,v.createElement(xe,n({color:x,onChange:M},R)),v.createElement("div",{className:"".concat(u,"-slider-container")},v.createElement("div",{className:A("".concat(u,"-slider-group"),s({},"".concat(u,"-slider-group-disabled-alpha"),p))},v.createElement(we,n({gradientColors:Re,color:x,value:"hsl(".concat(x.toHsb().h,",100%, 50%)"),onChange:function(e){return M(e,"hue")}},R)),!p&&v.createElement(we,n({type:"alpha",gradientColors:["rgba(255, 0, 4, 0) 0%",w],color:x,value:x.toRgbString(),onChange:function(e){return M(e,"alpha")}},R))),v.createElement(pe,{color:x.toRgbString(),prefixCls:u})));return v.createElement("div",{className:S,style:m,ref:r},"function"==typeof h?h(k):k)}));function ke(){return"function"==typeof BigInt}function Ie(e){return!e&&0!==e&&!Number.isNaN(e)||!String(e).trim()}function Ae(e){var t=e.trim(),n=t.startsWith("-");n&&(t=t.slice(1)),(t=t.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,"")).startsWith(".")&&(t="0".concat(t));var r=t||"0",o=r.split("."),i=o[0]||"0",a=o[1]||"0";"0"===i&&"0"===a&&(n=!1);var u=n?"-":"";return{negative:n,negativeStr:u,trimStr:r,integerStr:i,decimalStr:a,fullStr:"".concat(u).concat(r)}}function Pe(e){var t=String(e);return!Number.isNaN(Number(t))&&t.includes("e")}function Le(e){var t=String(e);if(Pe(e)){var n=Number(t.slice(t.indexOf("e-")+2)),r=t.match(/\.(\d+)/);return null!=r&&r[1]&&(n+=r[1].length),n}return t.includes(".")&&Te(t)?t.length-t.indexOf(".")-1:0}function De(e){var t=String(e);if(Pe(e)){if(e>Number.MAX_SAFE_INTEGER)return String(ke()?BigInt(e).toString():Number.MAX_SAFE_INTEGER);if(e<Number.MIN_SAFE_INTEGER)return String(ke()?BigInt(e).toString():Number.MIN_SAFE_INTEGER);t=e.toFixed(Le(t))}return Ae(t).fullStr}function Te(e){return"number"==typeof e?!Number.isNaN(e):!!e&&(/^\s*-?\d+(\.\d+)?\s*$/.test(e)||/^\s*-?\d+\.\s*$/.test(e)||/^\s*-?\.\d+\s*$/.test(e))}var Fe=function(){function e(t){if(u(this,e),s(this,"origin",""),s(this,"negative",void 0),s(this,"integer",void 0),s(this,"decimal",void 0),s(this,"decimalLen",void 0),s(this,"empty",void 0),s(this,"nan",void 0),Ie(t))this.empty=!0;else if(this.origin=String(t),"-"===t||Number.isNaN(t))this.nan=!0;else{var n=t;if(Pe(n)&&(n=Number(n)),Te(n="string"==typeof n?n:De(n))){var r=Ae(n);this.negative=r.negative;var o=r.trimStr.split(".");this.integer=BigInt(o[0]);var i=o[1]||"0";this.decimal=BigInt(i),this.decimalLen=i.length}else this.nan=!0}}return c(e,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(e){var t="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(e,"0"));return BigInt(t)}},{key:"negate",value:function(){var t=new e(this.toString());return t.negative=!t.negative,t}},{key:"cal",value:function(t,n,r){var o=Math.max(this.getDecimalStr().length,t.getDecimalStr().length),i=n(this.alignDecimal(o),t.alignDecimal(o)).toString(),a=r(o),u=Ae(i),c=u.negativeStr,l=u.trimStr,s="".concat(c).concat(l.padStart(a+1,"0"));return new e("".concat(s.slice(0,-a),".").concat(s.slice(-a)))}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var n=new e(t);return n.isInvalidate()?this:this.cal(n,(function(e,t){return e+t}),(function(e){return e}))}},{key:"multi",value:function(t){var n=new e(t);return this.isInvalidate()||n.isInvalidate()?new e(NaN):this.cal(n,(function(e,t){return e*t}),(function(e){return 2*e}))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toString()===(null==e?void 0:e.toString())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?this.isInvalidate()?"":Ae("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),e}(),_e=function(){function e(t){u(this,e),s(this,"origin",""),s(this,"number",void 0),s(this,"empty",void 0),Ie(t)?this.empty=!0:(this.origin=String(t),this.number=Number(t))}return c(e,[{key:"negate",value:function(){return new e(-this.toNumber())}},{key:"add",value:function(t){if(this.isInvalidate())return new e(t);var n=Number(t);if(Number.isNaN(n))return this;var r=this.number+n;if(r>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(r<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var o=Math.max(Le(this.number),Le(n));return new e(r.toFixed(o))}},{key:"multi",value:function(t){var n=Number(t);if(this.isInvalidate()||Number.isNaN(n))return new e(NaN);var r=this.number*n;if(r>Number.MAX_SAFE_INTEGER)return new e(Number.MAX_SAFE_INTEGER);if(r<Number.MIN_SAFE_INTEGER)return new e(Number.MIN_SAFE_INTEGER);var o=Math.max(Le(this.number),Le(n));return new e(r.toFixed(o))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(e){return this.toNumber()===(null==e?void 0:e.toNumber())}},{key:"lessEquals",value:function(e){return this.add(e.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?this.isInvalidate()?"":De(this.number):this.origin}}]),e}();function Be(e){return ke()?new Fe(e):new _e(e)}function He(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(""===e)return"";var o=Ae(e),i=o.negativeStr,a=o.integerStr,u=o.decimalStr,c="".concat(t).concat(u),l="".concat(i).concat(a);if(n>=0){var s=Number(u[n]);return s>=5&&!r?He(Be(e).add("".concat(i,"0.").concat("0".repeat(n)).concat(10-s)).toString(),t,n,r):0===n?l:"".concat(l).concat(t).concat(u.padEnd(n,"0").slice(0,n))}return".0"===c?l:"".concat(l).concat(c)}function Xe(t){var n=f.createContext(void 0);return{Context:n,Provider:function(t){var r=t.value,o=t.children,i=f.useRef(r);i.current=r;var a=f.useState((function(){return{getValue:function(){return i.current},listeners:new Set}})),u=e(a,1)[0];return h((function(){d.unstable_batchedUpdates((function(){u.listeners.forEach((function(e){e(r)}))}))}),[r]),f.createElement(n.Provider,{value:u},o)},defaultValue:t}}function Ve(t,n){var r=C("function"==typeof n?n:function(e){if(void 0===n)return e;if(!Array.isArray(n))return e[n];var t={};return n.forEach((function(n){t[n]=e[n]})),t}),o=f.useContext(null==t?void 0:t.Context),i=o||{},a=i.listeners,u=i.getValue,c=f.useRef();c.current=r(o?u():null==t?void 0:t.defaultValue);var l=f.useState({}),s=e(l,2)[1];return h((function(){if(o)return a.add(e),function(){a.delete(e)};function e(e){var t=r(e);I(c.current,t,!0)||s({})}}),[o]),c.current}function Ye(){var e=f.createContext(null);function t(){return f.useContext(e)}return{makeImmutable:function(r,o){var i=y(r),a=function(a,u){var c=i?{ref:u}:{},l=f.useRef(0),s=f.useRef(a);return null!==t()?f.createElement(r,n({},a,c)):(o&&!o(s.current,a)||(l.current+=1),s.current=a,f.createElement(e.Provider,{value:l.current},f.createElement(r,n({},a,c))))};return i?f.forwardRef(a):a},responseImmutable:function(e,r){var o=y(e),i=function(r,i){var a=o?{ref:i}:{};return t(),f.createElement(e,n({},r,a))};return o?f.memo(f.forwardRef(i),r):f.memo(i,r)},useImmutableMark:t}}export{ve as C,Y as P,ce as T,Me as a,pe as b,Le as c,He as d,Ye as e,Xe as f,Be as g,De as n,Ae as t,Ve as u,Te as v};
