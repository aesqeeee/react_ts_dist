var e=Object.defineProperty,t=(t,i,s)=>(((t,i,s)=>{i in t?e(t,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[i]=s})(t,"symbol"!=typeof i?i+"":i,s),s);import{r as i,j as s}from"./react-32c7b601.js";import{c as a}from"./react-dom-23648d3c.js";import{H as n}from"./react-router-dom-8f087119.js";import{u as r,a as o,s as l,P as c}from"./react-redux-1fe69321.js";import{t as h,L as p,m as d,F as m,B as u,M as f,S as x,T as y,I as g,C as v,D as j,a as b,b as w,c as k,z as M}from"./antd-eee57572.js";import{u as P,O as C,a as T}from"./react-router-bc287c79.js";import{s as D}from"./styled-components-0c78ace3.js";import{r as O,u as S}from"./xlsx-4838b779.js";import{J as I,N as E,O as R,T as N}from"./@ant-design-98afa22e.js";import{l as _}from"./lodash-5ed8c413.js";import{f as A}from"./fabric-7b72ed16.js";import{h as L}from"./hotkeys-js-02dbb75d.js";import{c as F,a as z}from"./@reduxjs-2b994f65.js";import"./hoist-non-react-statics-d555263c.js";import{d as G}from"./dayjs-c6b1d5e5.js";/* empty css                      */import"./@babel-7994ac7b.js";import"./scheduler-c51d43b5.js";import"./@remix-run-e9fd25ef.js";import"./use-sync-external-store-767c46c4.js";import"./rc-util-fa3fab39.js";import"./classnames-a0172216.js";import"./rc-resize-observer-c51b26ea.js";import"./resize-observer-polyfill-ad543aa3.js";import"./rc-motion-254b4328.js";import"./rc-overflow-e11a0550.js";import"./rc-picker-5cb48957.js";import"./@rc-component-52f7a36a.js";import"./@ctrl-4982d949.js";import"./rc-tabs-f997bcab.js";import"./rc-dropdown-fe41106f.js";import"./rc-menu-e175303e.js";import"./rc-select-c44667d1.js";import"./rc-virtual-list-5d6a9296.js";import"./rc-tooltip-b71545ef.js";import"./rc-input-number-f4ee0ed6.js";import"./rc-input-84597cfb.js";import"./rc-collapse-4b3023b3.js";import"./rc-drawer-250fa246.js";import"./rc-field-form-3a9c64d4.js";import"./async-validator-cf877c1f.js";import"./scroll-into-view-if-needed-fc6bc28c.js";import"./compute-scroll-into-view-5923a88b.js";import"./rc-dialog-5d47b91a.js";import"./rc-notification-f56266e7.js";import"./rc-table-dcb25e6c.js";import"./rc-tree-45133a71.js";import"./rc-checkbox-8ce5fd11.js";import"./rc-pagination-d774582e.js";import"./throttle-debounce-ba017292.js";import"./rc-textarea-9dafdc19.js";import"./tslib-096ef9df.js";import"./@emotion-9019b847.js";import"./stylis-278fc574.js";import"./immer-269227bb.js";import"./redux-177ed07c.js";import"./redux-thunk-b3d00609.js";import"./react-is-80a4043c.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const i of e)if("childList"===i.type)for(const e of i.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const B={},H=function(e,t,i){if(!t||0===t.length)return e();const s=document.getElementsByTagName("link");return Promise.all(t.map((e=>{if((e=function(e){return"/"+e}(e))in B)return;B[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(!!i)for(let i=s.length-1;i>=0;i--){const a=s[i];if(a.href===e&&(!t||"stylesheet"===a.rel))return}else if(document.querySelector(`link[href="${e}"]${a}`))return;const n=document.createElement("link");return n.rel=t?"stylesheet":"modulepreload",t||(n.as="script",n.crossOrigin=""),n.href=e,document.head.appendChild(n),t?new Promise(((t,i)=>{n.addEventListener("load",t),n.addEventListener("error",(()=>i(new Error(`Unable to preload CSS for ${e}`))))})):void 0}))).then((()=>e())).catch((e=>{const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}))},q=i.memo((e=>s.jsx("div",{className:"WaterChart",children:"WaterChart"}))),V=i.memo((e=>{const t=P();return s.jsxs("div",{id:"error-page",children:[s.jsx("h1",{children:"Oops!"}),s.jsx("p",{children:"Sorry, an unexpected error has occurred."}),s.jsx("p",{children:s.jsx("i",{children:t.statusText||t.message})})]})})),W=i.memo((e=>s.jsx("div",{className:"Home",children:"Home"}))),$=i.lazy((()=>H((()=>import("./index-df980b29.js")),["assets/js/index-df980b29.js","assets/js/react-32c7b601.js","assets/js/@babel-7994ac7b.js","assets/js/styled-components-0c78ace3.js","assets/js/tslib-096ef9df.js","assets/js/@emotion-9019b847.js","assets/js/stylis-278fc574.js","assets/js/react-dom-23648d3c.js","assets/js/scheduler-c51d43b5.js","assets/js/react-router-dom-8f087119.js","assets/js/react-router-bc287c79.js","assets/js/@remix-run-e9fd25ef.js","assets/js/react-redux-1fe69321.js","assets/js/hoist-non-react-statics-d555263c.js","assets/js/react-is-80a4043c.js","assets/js/use-sync-external-store-767c46c4.js","assets/js/antd-eee57572.js","assets/js/rc-util-fa3fab39.js","assets/js/@ant-design-98afa22e.js","assets/js/classnames-a0172216.js","assets/js/resize-observer-polyfill-ad543aa3.js","assets/js/@ctrl-4982d949.js","assets/js/rc-resize-observer-c51b26ea.js","assets/js/rc-motion-254b4328.js","assets/js/rc-overflow-e11a0550.js","assets/js/rc-picker-5cb48957.js","assets/js/dayjs-c6b1d5e5.js","assets/js/@rc-component-52f7a36a.js","assets/js/rc-tabs-f997bcab.js","assets/js/rc-dropdown-fe41106f.js","assets/js/rc-menu-e175303e.js","assets/js/rc-select-c44667d1.js","assets/js/rc-virtual-list-5d6a9296.js","assets/js/rc-tooltip-b71545ef.js","assets/js/rc-input-number-f4ee0ed6.js","assets/js/rc-input-84597cfb.js","assets/js/rc-collapse-4b3023b3.js","assets/js/rc-drawer-250fa246.js","assets/js/rc-field-form-3a9c64d4.js","assets/js/async-validator-cf877c1f.js","assets/js/scroll-into-view-if-needed-fc6bc28c.js","assets/js/compute-scroll-into-view-5923a88b.js","assets/js/rc-dialog-5d47b91a.js","assets/js/rc-notification-f56266e7.js","assets/js/rc-table-dcb25e6c.js","assets/js/rc-tree-45133a71.js","assets/js/rc-checkbox-8ce5fd11.js","assets/js/rc-pagination-d774582e.js","assets/js/throttle-debounce-ba017292.js","assets/js/rc-textarea-9dafdc19.js","assets/js/xlsx-4838b779.js","assets/js/lodash-5ed8c413.js","assets/js/fabric-7b72ed16.js","assets/js/hotkeys-js-02dbb75d.js","assets/js/@reduxjs-2b994f65.js","assets/js/immer-269227bb.js","assets/js/redux-177ed07c.js","assets/js/redux-thunk-b3d00609.js","assets/css/febaee81.css"]))),U=i.lazy((()=>H((()=>import("./index-dd44370a.js")),["assets/js/index-dd44370a.js","assets/js/react-32c7b601.js","assets/js/@babel-7994ac7b.js","assets/js/routerBeforeEach-8eb5593c.js","assets/js/react-router-bc287c79.js","assets/js/@remix-run-e9fd25ef.js","assets/js/react-dom-23648d3c.js","assets/js/scheduler-c51d43b5.js","assets/js/react-router-dom-8f087119.js","assets/js/react-redux-1fe69321.js","assets/js/hoist-non-react-statics-d555263c.js","assets/js/react-is-80a4043c.js","assets/js/use-sync-external-store-767c46c4.js","assets/js/antd-eee57572.js","assets/js/rc-util-fa3fab39.js","assets/js/@ant-design-98afa22e.js","assets/js/@emotion-9019b847.js","assets/js/stylis-278fc574.js","assets/js/classnames-a0172216.js","assets/js/resize-observer-polyfill-ad543aa3.js","assets/js/@ctrl-4982d949.js","assets/js/rc-resize-observer-c51b26ea.js","assets/js/rc-motion-254b4328.js","assets/js/rc-overflow-e11a0550.js","assets/js/rc-picker-5cb48957.js","assets/js/dayjs-c6b1d5e5.js","assets/js/@rc-component-52f7a36a.js","assets/js/rc-tabs-f997bcab.js","assets/js/rc-dropdown-fe41106f.js","assets/js/rc-menu-e175303e.js","assets/js/rc-select-c44667d1.js","assets/js/rc-virtual-list-5d6a9296.js","assets/js/rc-tooltip-b71545ef.js","assets/js/rc-input-number-f4ee0ed6.js","assets/js/rc-input-84597cfb.js","assets/js/rc-collapse-4b3023b3.js","assets/js/rc-drawer-250fa246.js","assets/js/rc-field-form-3a9c64d4.js","assets/js/async-validator-cf877c1f.js","assets/js/scroll-into-view-if-needed-fc6bc28c.js","assets/js/compute-scroll-into-view-5923a88b.js","assets/js/rc-dialog-5d47b91a.js","assets/js/rc-notification-f56266e7.js","assets/js/rc-table-dcb25e6c.js","assets/js/rc-tree-45133a71.js","assets/js/rc-checkbox-8ce5fd11.js","assets/js/rc-pagination-d774582e.js","assets/js/throttle-debounce-ba017292.js","assets/js/rc-textarea-9dafdc19.js","assets/js/styled-components-0c78ace3.js","assets/js/tslib-096ef9df.js","assets/js/xlsx-4838b779.js","assets/js/lodash-5ed8c413.js","assets/js/fabric-7b72ed16.js","assets/js/hotkeys-js-02dbb75d.js","assets/js/@reduxjs-2b994f65.js","assets/js/immer-269227bb.js","assets/js/redux-177ed07c.js","assets/js/redux-thunk-b3d00609.js","assets/css/febaee81.css","assets/js/antIcon-245b003b.js"]))),K=i.lazy((()=>H((()=>import("./index-ff2308aa.js")),["assets/js/index-ff2308aa.js","assets/js/react-32c7b601.js","assets/js/@babel-7994ac7b.js"]))),Z=i.lazy((()=>H((()=>import("./index-74497a15.js")),["assets/js/index-74497a15.js","assets/js/react-32c7b601.js","assets/js/@babel-7994ac7b.js","assets/js/styled-components-0c78ace3.js","assets/js/tslib-096ef9df.js","assets/js/@emotion-9019b847.js","assets/js/stylis-278fc574.js","assets/js/antIcon-245b003b.js","assets/js/@ant-design-98afa22e.js","assets/js/rc-util-fa3fab39.js","assets/js/react-dom-23648d3c.js","assets/js/scheduler-c51d43b5.js","assets/js/classnames-a0172216.js","assets/js/resize-observer-polyfill-ad543aa3.js","assets/js/@ctrl-4982d949.js","assets/js/antd-eee57572.js","assets/js/rc-resize-observer-c51b26ea.js","assets/js/rc-motion-254b4328.js","assets/js/rc-overflow-e11a0550.js","assets/js/rc-picker-5cb48957.js","assets/js/dayjs-c6b1d5e5.js","assets/js/@rc-component-52f7a36a.js","assets/js/rc-tabs-f997bcab.js","assets/js/rc-dropdown-fe41106f.js","assets/js/rc-menu-e175303e.js","assets/js/rc-select-c44667d1.js","assets/js/rc-virtual-list-5d6a9296.js","assets/js/rc-tooltip-b71545ef.js","assets/js/rc-input-number-f4ee0ed6.js","assets/js/rc-input-84597cfb.js","assets/js/rc-collapse-4b3023b3.js","assets/js/rc-drawer-250fa246.js","assets/js/rc-field-form-3a9c64d4.js","assets/js/async-validator-cf877c1f.js","assets/js/scroll-into-view-if-needed-fc6bc28c.js","assets/js/compute-scroll-into-view-5923a88b.js","assets/js/rc-dialog-5d47b91a.js","assets/js/rc-notification-f56266e7.js","assets/js/rc-table-dcb25e6c.js","assets/js/rc-tree-45133a71.js","assets/js/rc-checkbox-8ce5fd11.js","assets/js/rc-pagination-d774582e.js","assets/js/throttle-debounce-ba017292.js","assets/js/rc-textarea-9dafdc19.js","assets/js/lodash-5ed8c413.js","assets/js/react-router-bc287c79.js","assets/js/@remix-run-e9fd25ef.js","assets/js/react-router-dom-8f087119.js","assets/js/react-redux-1fe69321.js","assets/js/hoist-non-react-statics-d555263c.js","assets/js/react-is-80a4043c.js","assets/js/use-sync-external-store-767c46c4.js","assets/js/xlsx-4838b779.js","assets/js/fabric-7b72ed16.js","assets/js/hotkeys-js-02dbb75d.js","assets/js/@reduxjs-2b994f65.js","assets/js/immer-269227bb.js","assets/js/redux-177ed07c.js","assets/js/redux-thunk-b3d00609.js","assets/css/febaee81.css"]))),J=D.div`
  .box-layout {
    height: 100vh;
  }
  .hander-container {
    padding: 0;
  }
`,Q=i.memo((e=>{const[t,a]=i.useState(!1),{Header:n,Content:r,Sider:o,Footer:l}=p,{token:{colorBgContainer:c,borderRadiusLG:d}}=h.useToken();return s.jsx(J,{children:s.jsxs(p,{className:"box-layout",children:[s.jsx(n,{className:"hander-container",children:s.jsx($,{width:200})}),s.jsxs(p,{children:[s.jsx(o,{width:200,className:"sider",style:{background:c},collapsible:!0,collapsed:t,onCollapse:(e,t)=>{a(e)},children:s.jsx(U,{})}),s.jsxs(p,{children:[s.jsx(Z,{}),s.jsx(r,{style:{padding:10,margin:10,minHeight:280,background:c,borderRadius:d},children:s.jsx(C,{})}),s.jsx(l,{style:{textAlign:"center",padding:"10px 50px 10px"},children:s.jsx(K,{})})]})]})]})})})),Y=i.memo((e=>s.jsx("div",{className:"Dashboard",children:"Dashboard"}))),X=D.div`
  height: 100%;
  .button {
    margin-bottom: 20px;
  }
`,ee=D.div`
  .file-container {
    position: relative;
    .file-box {
      position: relative;
      display: flex;
      padding: 0 15px;
      color: rgba(0, 0, 0, 0.65);
      justify-content: center;
      align-items: center;
      width: 110px;
      height: 32px;
      line-height: 32px;
      font-size: 14px;
      border: 1px solid transparent;
      border-radius: 4px;
      border-color: #d9d9d9;
      background-color: #fff;
      user-select: none;
      cursor: pointer;
      &:hover {
        color: #1890ff;
        border-color: #1890ff;
      }
      .icon {
        margin-right: 5px;
      }
      .input-file {
        input {
          display: none;
        }
      }
    }
    .file-list {
      display: flex;
      margin-top: 5px;
      width: 100%;
      height: 22px;
      line-height: 22px;
      &:hover {
        background-color: #e6f7ff;
      }
      .icon {
        width: 22px;
      }
      .file-name {
        flex-grow: 1;
      }
      .delete-icon {
        cursor: pointer;
      }
    }
  }
`;function te(){const[e,t]=d.useMessage();return{messageApi:e,contextHolder:t,showMessage:function(t,i){e.open({type:t,content:i})}}}const ie=i.memo((e=>{const[t,a]=i.useState(""),[n,r]=i.useState([]),o=i.useRef(null),{messageApi:l,contextHolder:c}=te(),h=()=>{a(""),r([])};return s.jsxs(ee,{children:[c,s.jsxs(m,{name:"basic",labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},initialValues:{remember:!0},children:[s.jsx(m.Item,{label:"导入文件",name:"username",rules:[{required:!0,message:"请上传需要导入的文件"}],children:s.jsxs("div",{className:"file-container",children:[s.jsxs("div",{className:"file-box",onClick:()=>{o.current&&o.current.click()},children:[s.jsx("span",{className:"icon",children:s.jsx(I,{})}),s.jsx("span",{children:"选择文件"}),s.jsx("span",{className:"input-file",children:s.jsx("input",{type:"file",ref:o,accept:".xls,.xlsx",onChange:t=>{const i=t.target;if(i.files){const t=i.files[0];if(t){(new FormData).append("file",t);const i=new FileReader;i.onload=i=>{const s=i.target.result,n=O(s,{type:"buffer"}),o=n.Sheets[n.SheetNames[0]],l=S.sheet_to_json(o);a(t.name),r(l),e.getFileDate(l)},i.readAsArrayBuffer(t)}}else l.open({type:"warning",content:"请选择要读取的文件"})}})})]}),(()=>{if(t.length)return s.jsxs("div",{className:"file-list",children:[s.jsx("span",{className:"icon link-icon",children:s.jsx(E,{})}),s.jsx("span",{className:"file-name",children:t}),s.jsx("span",{className:"icon delete-icon",onClick:h,children:s.jsx(R,{})})]})})()]})}),s.jsx(m.Item,{label:"模板下载",rules:[{required:!1}],children:s.jsx(u,{type:"link",onClick:()=>{const e=document.createElement("a");e.href="/src/assets/xlsx/导入文件模板.xlsx",e.download="导入文件模板.xlsx",e.style.display="none",document.body.appendChild(e),e.click(),e.remove()},children:"点击下载模板文件"})})]})]})})),se={title:"标题",isModalOpen:!1,handleOk:()=>{},handleCancel:()=>{},width:520,modalContent:s.jsx("div",{children:"默认内容"}),showMask:!0},ae=i.forwardRef(((e=se,t)=>{const[a,n]=i.useState(!1);i.useImperativeHandle(t,(()=>({changeLoading(e){n(e)}})));return s.jsx(f,{title:e.title,open:e.isModalOpen,width:e.width,confirmLoading:a,destroyOnClose:!0,keyboard:!0,mask:e.showMask,footer:()=>s.jsxs("div",{children:[s.jsx(u,{loading:a,style:{marginRight:"10px"},onClick:e.handleCancel,children:"取消"}),s.jsx(u,{type:"primary",loading:a,onClick:e.handleOk,children:"确定"})]}),onCancel:e.handleCancel,children:s.jsx(x,{spinning:a,children:e.modalContent})})})),ne={isModalOpen:!1,closeModal:()=>{},getImportFileData:()=>{}},re=i.memo(((e=ne)=>{const t=i.useRef(),[a,n]=i.useState([]),{showMessage:r,contextHolder:o}=te(),l=()=>{e.closeModal()};return s.jsxs("div",{children:[o,s.jsx(ae,{ref:t,title:"导入",isModalOpen:e.isModalOpen,modalContent:s.jsx(ie,{getFileDate:e=>{n(e)}}),handleOk:()=>{a.length?(e.getImportFileData(a),l()):r("warning","请选择要读取的文件")},handleCancel:l})]})})),oe={columns:[],dataSource:[],pagination:{current:1,pageSize:10,pageSizeOptions:[10,20,50,100],hideOnSinglePage:!0,showQuickJumper:!0,total:0}},le=i.forwardRef(((e=oe,t)=>{const[a,n]=i.useState(!1),[r,o]=i.useState();i.useEffect((()=>{if(r){const t=_.cloneDeep(r);t.total=e.dataSource.length,o(t)}return()=>{}}),[e.dataSource]),i.useEffect((()=>(o(e.pagination),()=>{})),[e.pagination]);return i.useImperativeHandle(t,(()=>({changeLoading(e){n(e)}}))),s.jsx(y,{columns:e.columns,dataSource:e.dataSource,loading:a,pagination:r,onChange:(e,t,i,s)=>{o(e)}})}));const ce=i.memo((e=>{const[t,a]=i.useState(!1),[n,r]=i.useState([]),o=i.useRef(),{showMessage:l,contextHolder:c}=te(),h=[{title:"姓名",dataIndex:"name",key:"name",align:"center"},{title:"年龄",dataIndex:"age",key:"age",align:"center"},{title:"身高(m)",dataIndex:"height",key:"height",align:"center"},{title:"体重(kg)",dataIndex:"weight",key:"weight",align:"center"},{title:"住址",dataIndex:"address",key:"address",align:"center"},{title:"政治面貌",dataIndex:"political",key:"political",align:"center"},{title:"学历",dataIndex:"education",key:"education",align:"center"},{title:"学校",dataIndex:"school",key:"school",align:"center"}];return s.jsxs(X,{children:[c,s.jsx(u,{type:"primary",className:"button",icon:s.jsx(I,{}),onClick:()=>{a(!0)},children:"导入"}),s.jsx(re,{isModalOpen:t,closeModal:()=>{a(!1),o.current.changeLoading(!1)},getImportFileData:e=>{o.current.changeLoading(!0);const t=Object.keys(e[0]);if(!t.includes("住址")&&!t.includes("身高(m)")&&!t.includes("体重(kg)"))return void l("warning","导入文件有误，请下载模板文件，填入数据后再执行导入操作!");const i=[];for(const s of e)i.push({key:s["姓名"],name:s["姓名"],age:s["年龄"],height:s["身高(m)"],weight:s["体重(kg)"],address:s["住址"],political:s["政治面貌"],education:s["学历"],school:s["学校"]});r(i),o.current.changeLoading(!1)}}),s.jsx(le,{ref:o,columns:h,dataSource:n})]})})),he=i.memo((e=>s.jsx("div",{className:"TableList",children:"TableList"}))),pe=F({name:"fabric",initialState:{drawType:"MoseArrow"},reducers:{setDrawType(e,{payload:t}){switch(t){case"c":e.drawType="Circular";break;case"l":e.drawType="Line";break;case"r":e.drawType="Rect";break;case"t":e.drawType="Triangle";break;case"e":e.drawType="Ellipse";break;case"p":e.drawType="Polygon";break;case"f":e.drawType="Polyline";break;case"i":e.drawType="IText";break;default:e.drawType="MoseArrow"}}}}),{setDrawType:de}=pe.actions,me=pe.reducer;class ue{constructor(e){t(this,"canvas",null),this.canvas=e}paste(e){e.clone((e=>{this.canvas.discardActiveObject(),e.set({name:this.createObjectName(e.type),left:e.left+10,top:e.top+10,evented:!0}),"activeSelection"===e.type||this.canvas.add(e)}))}createObjectName(e){const t=this.getObjectsFromCanvas(e);let i=0;for(;;){let s=!1;for(let a=0;a<t.length;a++)if(t[a].name==e+i.toString()){s=!0,i++;break}if(!s)break}return e+i.toString()}getObjectsFromCanvas(e){let t=[];const i=this.canvas.getObjects();if(e)for(const s of i)s.type===e&&t.push(s);return t}}const fe=new class{constructor(){t(this,"canvas",null),t(this,"menuRef",null),t(this,"activeEl",null),t(this,"shape",null),t(this,"drawType",null),t(this,"startPoint"),t(this,"fill",""),t(this,"stroke",""),t(this,"isDrawSpecialGraphics",!1),t(this,"polygonPointsBuff",[]),t(this,"isDrawingMode",!1),t(this,"dispatch",null),t(this,"operaCanvas",null),t(this,"dblclickCanvas",(e=>{})),this.fill="#1677ff",this.stroke="#1677ff"}init(e,t,i,s,a,n){const r={backgroundColor:"#fff",fireMiddleClick:!0,fireRightClick:!0,stopContextMenu:!0,isDrawingMode:!1,skipTargetFind:!1,width:i,height:s};this.canvas=new A.fabric.Canvas(e,r),this.operaCanvas=new ue(this.canvas),this.dispatch=a,this.initHotkeys(),this.dblclickCanvas=n,this.menuRef=t,this.menuRef.oncontextmenu=function(e){e.preventDefault()},this.initDrawEvent(this.canvas)}setDrawType(e){switch(this.canvas.isDrawingMode=!1,"Pen"===this.drawType&&(this.canvas.selection=!0,this.canvas.requestRenderAll()),e){case"MoseArrow":default:this.setFabricDrawType(null);break;case"Line":this.setFabricDrawType("l");break;case"Rect":this.setFabricDrawType("r");break;case"Triangle":this.setFabricDrawType("t");break;case"Circular":this.setFabricDrawType("c");break;case"Ellipse":this.setFabricDrawType("e");break;case"Polygon":this.setFabricDrawType("p");break;case"Polyline":this.setFabricDrawType("f");break;case"IText":this.setFabricDrawType("i");break;case"Pen":this.canvas.isDrawingMode=!0,this.setFabricDrawType("Pen")}}initHotkeys(){L("r",(()=>{this.setFabricDrawType("r")})),L("l",(()=>{this.setFabricDrawType("l")})),L("c",(()=>{this.setFabricDrawType("c")})),L("t",(()=>{this.setFabricDrawType("t")})),L("e",(()=>{this.setFabricDrawType("e")})),L("p",(()=>{this.setFabricDrawType("p")})),L("f",(()=>{this.setFabricDrawType("f")})),L("i",(()=>{this.setFabricDrawType("i")}))}initDrawEvent(e){e.on("mouse:down",(e=>this.canvasOnMouseDown(e))).on("mouse:move",(e=>this.canvasOnMoseMove(e))).on("mouse:up",(e=>this.canvasOnMoseUp(e))).on("selection:created",(e=>{})).on("mouse:dblclick",(e=>{if(e.target){const e=this.canvas.getActiveObject();e&&this.dblclickCanvas(e)}}))}canvasOnMouseDown(e){if(e.target&&!this.drawType&&3===e.button&&(this.canvas.getActiveObject()||(this.canvas.setActiveObject(e.target),this.canvas.requestRenderAll())),this.showOrHiddenMenu(e),!e.target||this.isDrawSpecialGraphics){if(this.shape||!this.drawType||this.isDrawSpecialGraphics||(this.canvas.selection=!1,this.startPoint=e.absolutePointer,this.getMouseDownDrawGraphical(this.drawType,e)),this.isDrawSpecialGraphics)return this.getMouseDownDrawGraphical(this.drawType,e),this.renderCanvas(this.shape),void(3===e.button&&(this.isDrawSpecialGraphics=!1,this.shape.set({selectable:!0}),this.drawOver()));this.shape&&this.renderCanvas(this.shape)}}canvasOnMoseMove(e){const t=this.canvas.getPointer(e.e)||{x:0,y:0};if(this.shape&&this.drawType&&!this.isDrawSpecialGraphics){const e=Math.min(t.x,this.startPoint.x),i=Math.min(t.y,this.startPoint.y);let s=Math.abs(t.x-this.startPoint.x),a=Math.abs(t.y-this.startPoint.y);this.setMoseMoveGraphicalParameter(this.drawType,e,i,s,a,t),this.canvas.requestRenderAll()}this.isDrawSpecialGraphics&&this.shape&&(this.setMouseMovePolygonPostionList(t),this.setMoseMoveGraphicalParameter(this.drawType,0,0,0,0,t),this.renderCanvas(this.shape))}canvasOnMoseUp(e){this.isDrawSpecialGraphics&&"p"===this.drawType||this.shape&&this.drawType&&!this.isDrawSpecialGraphics&&this.drawOver()}drawOver(){this.shape.setCoords(),this.canvas.selection=!0,this.shape=null,this.setFabricDrawType(null),this.canvas.requestRenderAll()}setMouseDownPolygonPostionList(e){e&&(0===this.polygonPointsBuff.length?this.polygonPointsBuff=[{x:e.x,y:e.y},{x:e.x,y:e.y}]:this.polygonPointsBuff.push({x:e.x,y:e.y}),this.shape&&this.canvas.remove(this.shape))}getMouseDownDrawGraphical(e,t){switch(e){case"e":this.shape=new A.fabric.Ellipse({name:this.operaCanvas.createObjectName("Ellipse"),left:this.startPoint.x,top:this.startPoint.y,rx:0,ry:0,type:"Ellipse",fill:this.fill,stroke:this.stroke,perPixelTargetFind:!0});break;case"c":this.shape=new A.fabric.Circle({name:this.operaCanvas.createObjectName("Circular"),left:this.startPoint.x,top:this.startPoint.y,radius:0,type:"Circular",fill:this.fill,stroke:this.stroke,perPixelTargetFind:!0});break;case"l":this.shape=new A.fabric.Line([this.startPoint.x,this.startPoint.y,this.startPoint.x,this.startPoint.y],{name:this.operaCanvas.createObjectName("Line"),fill:void 0,type:"Line",stroke:this.stroke,perPixelTargetFind:!0});break;case"r":this.shape=new A.fabric.Rect({name:this.operaCanvas.createObjectName("Rect"),left:this.startPoint.x,top:this.startPoint.y,width:0,height:0,type:"Rect",fill:this.fill,stroke:this.stroke,transparentCorners:!1,perPixelTargetFind:!0});break;case"t":this.shape=new A.fabric.Triangle({name:this.operaCanvas.createObjectName("Triangle"),left:this.startPoint.x,top:this.startPoint.y,width:0,height:0,type:"Triangle",fill:this.fill,stroke:this.stroke,transparentCorners:!1,perPixelTargetFind:!0});break;case"p":this.setMouseDownPolygonPostionList(t.absolutePointer),this.shape=new A.fabric.Polygon(this.polygonPointsBuff,{name:this.operaCanvas.createObjectName("Polygon"),type:"Polygon",...this.drawSpecialGraphicsConfig()});break;case"f":this.setMouseDownPolygonPostionList(t.absolutePointer),this.shape=new A.fabric.Polyline(this.polygonPointsBuff,{name:this.operaCanvas.createObjectName("Polyline"),type:"Polyline",...this.drawSpecialGraphicsConfig()});break;case"i":this.shape=new A.fabric.IText("text",{name:this.operaCanvas.createObjectName("IText"),type:"IText",left:this.startPoint.x,top:this.startPoint.y,fontSize:0,perPixelTargetFind:!0})}}setMouseMovePolygonPostionList(e){e&&(this.shape&&this.canvas.remove(this.shape),this.polygonPointsBuff[this.polygonPointsBuff.length-1].x=e.x,this.polygonPointsBuff[this.polygonPointsBuff.length-1].y=e.y)}setMoseMoveGraphicalParameter(e,t,i,s,a,n){var r,o;switch(e){case"e":null==(r=this.shape)||r.set({left:t,top:i,rx:s/2,ry:a/2});break;case"c":null==(o=this.shape)||o.set({left:t,top:i,radius:s/2});break;case"l":let e=this.startPoint.x,l=this.startPoint.y,c=n.x,h=n.y;this.shape.set({x1:e,y1:l,x2:c,y2:h});break;case"r":case"t":this.shape.set({left:t,top:i,width:s,height:a});break;case"p":this.shape=new A.fabric.Polygon(this.polygonPointsBuff,{name:this.operaCanvas.createObjectName("Polygon"),type:"Polygon",...this.drawSpecialGraphicsConfig()});break;case"f":this.shape=new A.fabric.Polyline(this.polygonPointsBuff,{name:this.operaCanvas.createObjectName("Polyline"),type:"Polyline",...this.drawSpecialGraphicsConfig()});break;case"i":this.shape.set({fontSize:a})}}showOrHiddenMenu(e){var t,i,s,a;if(3===e.button&&e.target&&!this.isDrawSpecialGraphics){this.activeEl=e.target;const n=this.menuRef.offsetWidth,r=this.menuRef.offsetHeight;if((null==(t=this.canvas)?void 0:t.width)&&(null==(i=this.canvas)?void 0:i.height)&&(null==(s=this.menuRef)?void 0:s.style)){let t=e.pointer.x,i=e.pointer.y;this.canvas.width-t<=n&&(t-=n),(null==(a=this.canvas)?void 0:a.height)-i<=r&&(i-=r),this.menuRef.style.cssText=`\n          visibility: visible;\n          left: ${t}px;\n          top: ${i}px;\n          z-index: 100;\n        `}}else this.hiddenMenu()}hiddenMenu(){var e;(null==(e=this.menuRef)?void 0:e.style)&&(this.menuRef.style.cssText="\n        visibility: hidden;\n        left: 0;\n        top: 0;\n        z-index: -100;\n      "),this.activeEl=null}drawSpecialGraphicsConfig(){return{fill:"f"===this.drawType?"transparent":this.fill,stroke:this.stroke,transparentCorners:!1,selectable:!1,perPixelTargetFind:!0}}renderCanvas(e){this.canvas.add(e),this.canvas.requestRenderAll()}setFabricDrawType(e){this.drawType=e,this.isDrawSpecialGraphics=!1,"p"!==e&&"f"!==e||(this.polygonPointsBuff=[],this.isDrawSpecialGraphics=!0),this.dispatch&&this.dispatch(de(this.drawType))}deleteGraphical(){var e;const t=this.getGraphicalObject();t&&(null==(e=this.canvas)||e.remove(t)),this.hiddenMenu(),this.canvas.requestRenderAll()}getGraphicalObject(){return this.canvas.getActiveObject()}getNameGraphicalObject(e){let t=null;return this.canvas.getObjects().forEach((i=>{i.name===e&&(t=i)})),t}},xe=D.div`
  position: relative;
  width: 100%;
  height: 100%;
  .pictrueIcon {
    padding-bottom: 5px;
    border-bottom: 1px solid #0505050f;
    ul {
      padding: 0;
      margin: 0;
      display: flex;
      li {
        margin: 0 5px;
        height: 20px;
        list-style-type: none;
        cursor: pointer;
      }
      line-height.active {
        background-color: #ccc;
      }
    }
  }
  .canvas {
    width: 100%;
    height: 100%;
  }
  .menus {
    position: absolute;
    padding: 4px;
    visibility: hidden;
    text-align: center;
    left: 0;
    top: 0;
    z-index: -100;
    background-color: #fff;
    box-shadow:
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05);
    border-radius: 5px;
    div {
      /* margin: 10px; */
      padding: 5px 12px;
      cursor: pointer;
      &:hover {
        background-color: #f5f5f5;
        border-radius: 5px;
      }
      .menuItem {
        margin-left: 10px;
      }
    }
  }
`,ye=F({name:"counter",initialState:{count:100},reducers:{fetchBannerActions(e,{payload:t}){e.count+=t}}}),{fetchBannerActions:ge}=ye.actions,ve=ye.reducer,je="/home/dashboard",be=F({name:"tabMenue",initialState:{menus:[{icon:"HomeOutlined",name:"首页",path:je}],activeKey:""},reducers:{setMenus(e,{payload:t}){e.activeKey=t.path;e.menus.filter((e=>e.name===t.name&&e.path===t.path)).length||"/"===t.path||e.menus.push(t)},deleteItem(e,{payload:t}){e.menus=t},clearTabItem(e){const t=_.cloneDeep(e.menus);e.menus=t.filter((e=>e.path===je))}}}),{setMenus:we,deleteItem:ke,clearTabItem:Me}=be.actions,Pe=be.reducer;function Ce(e,t,i,s,a,n){let r=(e+t)/2,o=e*Math.PI*2,l=t*Math.PI*2,c=r*Math.PI*2;0===e&&1===t&&(i=!1),a=void 0!==a?a:1/3;let h=i?.1*Math.cos(c):0,p=i?.1*Math.sin(c):0,d=s?1.05:1;return{u:{min:-Math.PI,max:3*Math.PI,step:Math.PI/32},v:{min:0,max:2*Math.PI,step:Math.PI/20},x:function(e,t){return e<o?h+Math.cos(o)*(1+Math.cos(t)*a)*d:e>l?h+Math.cos(l)*(1+Math.cos(t)*a)*d:h+Math.cos(e)*(1+Math.cos(t)*a)*d},y:function(e,t){return e<o?p+Math.sin(o)*(1+Math.cos(t)*a)*d:e>l?p+Math.sin(l)*(1+Math.cos(t)*a)*d:p+Math.sin(e)*(1+Math.cos(t)*a)*d},z:function(e,t){return e<.5*-Math.PI||e>2.5*Math.PI?Math.sin(e):Math.sin(t)>0?1*n:-1}}}const Te=[{name:"智慧文旅平台",value:94,itemStyle:{color:"#dc3545"}},{name:"携程",value:87,itemStyle:{color:"#007bff"}},{name:"飞猪",value:11,itemStyle:{color:"#F5B64C"}},{name:"其他渠道",value:30,itemStyle:{color:"#56D0E3"}}],De=function(e,t){let i=[],s=0,a=0,n=0,r=[],o=void 0!==t?(1-t)/(1+t):1/3;for(let l=0;l<e.length;l++){s+=e[l].value;let t={name:void 0===e[l].name?`series${l}`:e[l].name,type:"surface",parametric:!0,wireframe:{show:!1},pieData:e[l],pieStatus:{selected:!1,hovered:!1,k:o}};if(void 0!==e[l].itemStyle){let i={};void 0!==e[l].itemStyle.color&&(i.color=e[l].itemStyle.color),void 0!==e[l].itemStyle.opacity&&(i.opacity=e[l].itemStyle.opacity),t.itemStyle=i}i.push(t)}for(let l=0;l<i.length;l++)n=a+i[l].pieData.value,i[l].pieData.startRatio=a/s,i[l].pieData.endRatio=n/s,i[l].parametricEquation=Ce(i[l].pieData.startRatio,i[l].pieData.endRatio,!1,!1,o,i[l].pieData.value),a=n,r.push(i[l].name);return i.push({name:"mouseoutSeries",type:"surface",parametric:!0,wireframe:{show:!1},pieData:{},itemStyle:{opacity:.1,color:"#E1E8EC"},parametricEquation:{u:{min:0,max:2*Math.PI,step:Math.PI/20},v:{min:0,max:Math.PI,step:Math.PI/20},x:function(e,t){return(Math.sin(t)*Math.sin(e)+Math.sin(e))/Math.PI*2},y:function(e,t){return(Math.sin(t)*Math.cos(e)+Math.cos(e))/Math.PI*2},z:function(e,t){return Math.cos(t)>0?-.5:-5}}}),i.push({name:"mouseoutSeries",type:"surface",parametric:!0,pieData:{},wireframe:{show:!1},itemStyle:{opacity:.1,color:"#E1E8EC"},parametricEquation:{u:{min:0,max:2*Math.PI,step:Math.PI/20},v:{min:0,max:Math.PI,step:Math.PI/20},x:function(e,t){return(Math.sin(t)*Math.sin(e)+Math.sin(e))/Math.PI*2},y:function(e,t){return(Math.sin(t)*Math.cos(e)+Math.cos(e))/Math.PI*2},z:function(e,t){return Math.cos(t)>0?-5:-7}}}),i.push({name:"mouseoutSeries",type:"surface",parametric:!0,pieData:{},wireframe:{show:!1},itemStyle:{opacity:.1,color:"#E1E8EC"},parametricEquation:{u:{min:0,max:2*Math.PI,step:Math.PI/20},v:{min:0,max:Math.PI,step:Math.PI/20},x:function(e,t){return(Math.sin(t)*Math.sin(e)+Math.sin(e))/Math.PI*2.2},y:function(e,t){return(Math.sin(t)*Math.cos(e)+Math.cos(e))/Math.PI*2.2},z:function(e,t){return Math.cos(t),-7}}}),i.push({name:"pie2d",type:"pie",label:{opacity:1,fontSize:13,lineHeight:16},labelLine:{length:20,length2:20},startAngle:-30,clockwise:!1,radius:["20%","50%"],center:["50%","50%"],data:Te,itemStyle:{opacity:0}}),i}(Te,.8),Oe=z({reducer:{counter:ve,mainRightBottom:F({name:"mainRightBottom",initialState:{option:{legend:{tooltip:{show:!0},data:Te.map((e=>e.name)),bottom:"5%",textStyle:{color:"#fff",fontSize:16}},animation:!0,tooltip:{formatter:e=>{if("mouseoutSeries"!==e.seriesName&&"pie2d"!==e.seriesName)return`${e.seriesName}<br/><span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:${e.color};"></span>${De[e.seriesIndex].pieData.value+"辆"}`},textStyle:{fontSize:16}},title:{x:"center",top:"20",textStyle:{color:"#fff",fontSize:16}},backgroundColor:"#333",labelLine:{show:!0,lineStyle:{color:"#7BC0CB"}},label:{show:!0,position:"outside",formatter:"{b} \n{c} {d}%"},xAxis3D:{min:-1,max:1},yAxis3D:{min:-1,max:1},zAxis3D:{min:-1,max:1},grid3D:{show:!1,boxHeight:.5,bottom:"50%",environment:"#021041",viewControl:{distance:180,alpha:25,beta:60,autoRotate:!0}},series:De}},reducers:{getEchartOption(){}}}).reducer,tabMenu:Pe,fabric:me},middleware:e=>e({serializableCheck:!1})}),Se=r,Ie=o,Ee=l,Re=[{type:"MoseArrow",width:20,height:20,color:"#1296db",tooltipTitle:"鼠标模式"},{type:"Line",width:20,height:20,color:"#161617",tooltipTitle:"画线，快捷键为'L'"},{type:"Rect",width:20,height:20,color:"#161617",tooltipTitle:"画矩形，快捷键为'r'"},{type:"Circular",width:20,height:20,color:"#161617",tooltipTitle:"画圆，快捷键为'c'"},{type:"Ellipse",width:20,height:20,color:"#161617",tooltipTitle:"画椭圆，快捷键为'e'"},{type:"Polygon",width:20,height:20,color:"#161617",tooltipTitle:"画多边形，快捷键为'p'，右击结束"},{type:"Triangle",width:20,height:20,color:"#161617",tooltipTitle:"画三角形，快捷键为't'"},{type:"Polyline",width:20,height:20,color:"#161617",tooltipTitle:"画折线，快捷键为'f'，右击结束"},{type:"IText",width:20,height:20,color:"#161617",tooltipTitle:"文字，快捷键为'i'"},{type:"Pen",width:20,height:20,color:"#161617",tooltipTitle:"自由绘制"}];const Ne=new class{constructor(){t(this,"canvas",null),t(this,"activeObject",null)}init(e,t,i,s){const a={backgroundColor:"#fff",fireMiddleClick:!1,fireRightClick:!1,stopContextMenu:!1,isDrawingMode:!1,skipTargetFind:!0,width:t,height:i};this.canvas=new A.fabric.Canvas(e,a),this.initDrawEvent(),this.canvas&&s.clone((e=>{this.cloneGraphical(e)}))}initDrawEvent(){this.canvas.on("mouse:wheel",(e=>{let t=e.e.deltaY,i=this.canvas.getZoom();i*=.999**t,i>20&&(i=20),i<.01&&(i=.01),this.canvas.setZoom(i)}))}cloneGraphical(e){var t;this.canvas.discardActiveObject(),e.set({left:10,top:10,evented:!0});const i=e.width||20,s=e.height||20;let a=1;(i>300||s>150)&&(a=.999**4),this.canvas.setZoom(a),this.canvas.add(e),this.activeObject=e,null==(t=this.canvas)||t.requestRenderAll(),this.getActiveObjBgColor()}setGradient(e){if(this.activeObject){let t=new A.fabric.Gradient({type:"linear",gradientUnits:"pixels",coords:{x1:0,y1:0,x2:this.activeObject.width,y2:0},colorStops:e});this.activeObject.set("fill",t),this.canvas.requestRenderAll()}}setActiveObjBgColor(e){this.activeObject.set("fill",e),this.canvas.requestRenderAll()}getActiveObjBgColor(){var e;return null==(e=this.activeObject)?void 0:e.fill}setActiveObjLineColor(e){this.activeObject.set("stroke",e),this.canvas.requestRenderAll()}getActiveObjLineColor(){var e;return null==(e=this.activeObject)?void 0:e.stroke}},_e=D.div`
  width: 100%;
  height: 100%;
  .setting-wrapper {
    height: 650px;
    overflow-y: auto;
  }
  .tips {
    font-size: 12px;
    color: red;
  }
  .setting {
    margin-top: 10px;
  }
  .canvas-container-warpper {
    border: 1px solid #ccc;
  }
`,Ae=D.div`
  .btn-wrapper {
    margin-bottom: 10px;
    .tips {
      margin-left: 10px;
    }
  }
  .list-wrapper {
    display: flex;
    justify-content: space-around;
    align-items: center;
    margin: 5px 0;
  }
  .color-wrapper {
    display: flex;
    align-items: center;
  }
`,Le=i.memo((e=>{const{messageApi:t,contextHolder:i}=te(),a=(t,i)=>{const s=_.cloneDeep(e.fillList);s.splice(i,1,t),e.fn(s)};return s.jsxs(Ae,{className:"GradientCpn",children:[i,s.jsxs("div",{className:"btn-wrapper",children:[s.jsx(u,{type:"primary",onClick:()=>{if(e.fillList.length>=10)return void t.open({type:"warning",content:"渐变值最大为10条内容"});const i=_.cloneDeep(e.fillList);i.push({offset:0,color:"#1677ff"}),e.fn(i)},children:"新增渐变值"}),s.jsx("div",{className:"tips",children:"数值相同时，仅会生效一个，且为0-1的小数"})]}),e.fillList.map(((t,i)=>s.jsxs("div",{className:"list-wrapper",children:[s.jsxs("div",{children:[s.jsx("span",{children:"数值："}),s.jsx("span",{children:s.jsx(g,{min:0,max:1,step:.1,value:t.offset,onChange:e=>((e,t,i)=>{null!==e&&(t.offset=e),a(t,i)})(e,t,i)})})]}),s.jsxs("div",{className:"color-wrapper",children:[s.jsx("span",{children:"颜色："}),s.jsx("span",{children:s.jsx(v,{value:t.color,onChange:(e,s)=>((e,t,i,s)=>{i.color=t,a(i,s)})(0,s,t,i)})})]}),s.jsx("div",{children:s.jsx(u,{danger:!0,size:"middle",onClick:t=>((t,i)=>{const s=_.cloneDeep(e.fillList);s.splice(i,1),e.fn(s)})(0,i),children:"删除"})})]},i)))]})})),Fe=i.memo((e=>s.jsx("div",{className:"BackColorCpn",children:s.jsx(v,{value:e.item.value,onChange:(t,i)=>{const s=_.cloneDeep(e.item);s.value=i,e.fn(s)}})}))),ze=i.memo((e=>s.jsx("div",{className:"StrokeColor",children:s.jsx(v,{value:e.item.value,onChange:(t,i)=>{const s=_.cloneDeep(e.item);s.value=i,e.fn(s)}})}))),Ge=i.memo((e=>{const t=i.useRef(null),a=i.useRef(null);i.useState([]);const[n,r]=i.useState([{checked:!1,dividerName:"设置渐变",componenType:1,value:[]},{checked:!1,dividerName:"设置背景色",componenType:2,value:"#1677ff"}]);i.useEffect((()=>(t.current&&a.current&&e.activeObj&&Ne.init(t.current,a.current.clientWidth-10,150,e.activeObj),()=>{})),[e.activeObj]);const o=e=>{const t=n[0];t.value=e,Ne.setGradient(e),c(t,0)},l=e=>{const t=n.findIndex((t=>t.componenType===e.componenType));Ne.setActiveObjBgColor(e.value),c(e,t)},c=(e,t)=>{const i=_.cloneDeep(n);i.splice(t,1,e),r(i)},h=(e,t,i)=>{let a=s.jsx("div",{children:"默认内容"});switch(e){case 1:a=s.jsx(Le,{fillList:t,fn:o});break;case 2:a=s.jsx(Fe,{item:i,fn:l});break;case 3:a=s.jsx(ze,{item:i,fn:l})}return a};return s.jsxs(_e,{className:"DrawModal",ref:a,children:[s.jsx("span",{className:"tips",children:"可使用滚轮手动调整图形大小"}),s.jsx("div",{className:"canvas-container-warpper",children:s.jsx("canvas",{className:"canvas",ref:t})}),s.jsx("div",{className:"setting-wrapper",children:n.map(((e,t)=>s.jsxs("div",{className:"setting",children:[s.jsx(j,{children:s.jsx(b,{checked:e.checked,onChange:i=>((e,t,i)=>{t.checked=e.target.checked,2===t.componenType&&(t.value=Ne.getActiveObjBgColor()),c(t,i)})(i,e,t),children:"设置渐变"})}),e.checked&&h(e.componenType,e.value,e)]},t)))})]})})),Be=i.lazy((()=>H((()=>import("./useSVG-aff94698.js")),["assets/js/useSVG-aff94698.js","assets/js/react-32c7b601.js","assets/js/@babel-7994ac7b.js"]))),He=i.lazy((()=>H((()=>import("./index-d6f3c370.js")),["assets/js/index-d6f3c370.js","assets/js/react-32c7b601.js","assets/js/@babel-7994ac7b.js","assets/js/antd-eee57572.js","assets/js/rc-util-fa3fab39.js","assets/js/react-dom-23648d3c.js","assets/js/scheduler-c51d43b5.js","assets/js/@ant-design-98afa22e.js","assets/js/@emotion-9019b847.js","assets/js/stylis-278fc574.js","assets/js/classnames-a0172216.js","assets/js/resize-observer-polyfill-ad543aa3.js","assets/js/@ctrl-4982d949.js","assets/js/rc-resize-observer-c51b26ea.js","assets/js/rc-motion-254b4328.js","assets/js/rc-overflow-e11a0550.js","assets/js/rc-picker-5cb48957.js","assets/js/dayjs-c6b1d5e5.js","assets/js/@rc-component-52f7a36a.js","assets/js/rc-tabs-f997bcab.js","assets/js/rc-dropdown-fe41106f.js","assets/js/rc-menu-e175303e.js","assets/js/rc-select-c44667d1.js","assets/js/rc-virtual-list-5d6a9296.js","assets/js/rc-tooltip-b71545ef.js","assets/js/rc-input-number-f4ee0ed6.js","assets/js/rc-input-84597cfb.js","assets/js/rc-collapse-4b3023b3.js","assets/js/rc-drawer-250fa246.js","assets/js/rc-field-form-3a9c64d4.js","assets/js/async-validator-cf877c1f.js","assets/js/scroll-into-view-if-needed-fc6bc28c.js","assets/js/compute-scroll-into-view-5923a88b.js","assets/js/rc-dialog-5d47b91a.js","assets/js/rc-notification-f56266e7.js","assets/js/rc-table-dcb25e6c.js","assets/js/rc-tree-45133a71.js","assets/js/rc-checkbox-8ce5fd11.js","assets/js/rc-pagination-d774582e.js","assets/js/throttle-debounce-ba017292.js","assets/js/rc-textarea-9dafdc19.js"]))),qe=i.memo((e=>{const t=i.useRef(null),a=i.useRef(null),n=i.useRef(null),{messageApi:r,contextHolder:o}=te(),[l,c]=i.useState("MoseArrow"),[h,p]=i.useState(null),[d,m]=i.useState(!1),[u,f]=i.useState(_.cloneDeep(Re)),x=Ie(),{fabricDrawType:y}=Se((e=>({fabricDrawType:e.fabric.drawType})),Ee);function g(e){}i.useEffect((()=>(document.addEventListener("keydown",g),function(){if(t.current&&a.current&&n.current){const e=a.current;fe.init(t.current,n.current,e.clientWidth,e.clientHeight,x,v)}}(),()=>{document.removeEventListener("keydown",g)})),[]),i.useEffect((()=>{const e=u.filter((e=>e.type===y));return b(e[0]),()=>{}}),[y]);const v=e=>{p(e),m(!0)};const j=e=>{if("delete"===e)fe.deleteGraphical();fe.hiddenMenu()},b=e=>{const t=_.cloneDeep(u);t.filter((e=>e.color="#161617"));const i=t.findIndex((t=>t.type===e.type));t[i].color="#1296db",c(e.type),fe.setDrawType(e.type),f(t)};return s.jsxs(xe,{ref:a,children:[o,s.jsx("div",{className:"pictrueIcon",children:s.jsx("ul",{children:u.map((e=>s.jsx(w,{title:e.tooltipTitle,children:s.jsx("li",{onClick:t=>b(e),children:s.jsx(Be,{...e})})},e.type)))})}),s.jsx("canvas",{className:"canvas",ref:t}),s.jsxs("div",{className:"menus",ref:n,children:[s.jsxs("div",{onClick:e=>j("delete"),children:[s.jsx(R,{}),s.jsx("span",{className:"menuItem",children:"删除"})]}),s.jsxs("div",{onClick:e=>j("setting"),children:[s.jsx(N,{}),s.jsx("span",{className:"menuItem",children:"设置"})]})]}),s.jsx(He,{title:"图形配置",open:d,content:s.jsx(Ge,{activeObj:h}),onClose:()=>{m(!1)}})]})})),Ve=i.lazy((()=>H((()=>import("./index-713266f8.js")),["assets/js/index-713266f8.js","assets/js/react-32c7b601.js","assets/js/@babel-7994ac7b.js","assets/js/lodash-5ed8c413.js","assets/js/styled-components-0c78ace3.js","assets/js/tslib-096ef9df.js","assets/js/@emotion-9019b847.js","assets/js/stylis-278fc574.js","assets/js/moment-8e95067b.js","assets/js/echarts-96fb38e2.js","assets/js/zrender-fb8bc0a6.js","assets/js/echarts-liquidfill-3beb014a.js","assets/js/echarts-gl-3fd60edc.js","assets/js/claygl-1b23161a.js","assets/js/react-router-bc287c79.js","assets/js/@remix-run-e9fd25ef.js","assets/js/react-dom-23648d3c.js","assets/js/scheduler-c51d43b5.js","assets/js/react-router-dom-8f087119.js","assets/js/react-redux-1fe69321.js","assets/js/hoist-non-react-statics-d555263c.js","assets/js/react-is-80a4043c.js","assets/js/use-sync-external-store-767c46c4.js","assets/js/antd-eee57572.js","assets/js/rc-util-fa3fab39.js","assets/js/@ant-design-98afa22e.js","assets/js/classnames-a0172216.js","assets/js/resize-observer-polyfill-ad543aa3.js","assets/js/@ctrl-4982d949.js","assets/js/rc-resize-observer-c51b26ea.js","assets/js/rc-motion-254b4328.js","assets/js/rc-overflow-e11a0550.js","assets/js/rc-picker-5cb48957.js","assets/js/dayjs-c6b1d5e5.js","assets/js/@rc-component-52f7a36a.js","assets/js/rc-tabs-f997bcab.js","assets/js/rc-dropdown-fe41106f.js","assets/js/rc-menu-e175303e.js","assets/js/rc-select-c44667d1.js","assets/js/rc-virtual-list-5d6a9296.js","assets/js/rc-tooltip-b71545ef.js","assets/js/rc-input-number-f4ee0ed6.js","assets/js/rc-input-84597cfb.js","assets/js/rc-collapse-4b3023b3.js","assets/js/rc-drawer-250fa246.js","assets/js/rc-field-form-3a9c64d4.js","assets/js/async-validator-cf877c1f.js","assets/js/scroll-into-view-if-needed-fc6bc28c.js","assets/js/compute-scroll-into-view-5923a88b.js","assets/js/rc-dialog-5d47b91a.js","assets/js/rc-notification-f56266e7.js","assets/js/rc-table-dcb25e6c.js","assets/js/rc-tree-45133a71.js","assets/js/rc-checkbox-8ce5fd11.js","assets/js/rc-pagination-d774582e.js","assets/js/throttle-debounce-ba017292.js","assets/js/rc-textarea-9dafdc19.js","assets/js/xlsx-4838b779.js","assets/js/fabric-7b72ed16.js","assets/js/hotkeys-js-02dbb75d.js","assets/js/@reduxjs-2b994f65.js","assets/js/immer-269227bb.js","assets/js/redux-177ed07c.js","assets/js/redux-thunk-b3d00609.js","assets/css/febaee81.css"]))),We=i.lazy((()=>H((()=>import("./helloWorld-cf2b2c8b.js")),["assets/js/helloWorld-cf2b2c8b.js","assets/js/react-32c7b601.js","assets/js/@babel-7994ac7b.js","assets/js/react-dom-23648d3c.js","assets/js/scheduler-c51d43b5.js","assets/js/react-router-dom-8f087119.js","assets/js/react-router-bc287c79.js","assets/js/@remix-run-e9fd25ef.js","assets/js/react-redux-1fe69321.js","assets/js/hoist-non-react-statics-d555263c.js","assets/js/react-is-80a4043c.js","assets/js/use-sync-external-store-767c46c4.js","assets/js/antd-eee57572.js","assets/js/rc-util-fa3fab39.js","assets/js/@ant-design-98afa22e.js","assets/js/@emotion-9019b847.js","assets/js/stylis-278fc574.js","assets/js/classnames-a0172216.js","assets/js/resize-observer-polyfill-ad543aa3.js","assets/js/@ctrl-4982d949.js","assets/js/rc-resize-observer-c51b26ea.js","assets/js/rc-motion-254b4328.js","assets/js/rc-overflow-e11a0550.js","assets/js/rc-picker-5cb48957.js","assets/js/dayjs-c6b1d5e5.js","assets/js/@rc-component-52f7a36a.js","assets/js/rc-tabs-f997bcab.js","assets/js/rc-dropdown-fe41106f.js","assets/js/rc-menu-e175303e.js","assets/js/rc-select-c44667d1.js","assets/js/rc-virtual-list-5d6a9296.js","assets/js/rc-tooltip-b71545ef.js","assets/js/rc-input-number-f4ee0ed6.js","assets/js/rc-input-84597cfb.js","assets/js/rc-collapse-4b3023b3.js","assets/js/rc-drawer-250fa246.js","assets/js/rc-field-form-3a9c64d4.js","assets/js/async-validator-cf877c1f.js","assets/js/scroll-into-view-if-needed-fc6bc28c.js","assets/js/compute-scroll-into-view-5923a88b.js","assets/js/rc-dialog-5d47b91a.js","assets/js/rc-notification-f56266e7.js","assets/js/rc-table-dcb25e6c.js","assets/js/rc-tree-45133a71.js","assets/js/rc-checkbox-8ce5fd11.js","assets/js/rc-pagination-d774582e.js","assets/js/throttle-debounce-ba017292.js","assets/js/rc-textarea-9dafdc19.js","assets/js/styled-components-0c78ace3.js","assets/js/tslib-096ef9df.js","assets/js/xlsx-4838b779.js","assets/js/lodash-5ed8c413.js","assets/js/fabric-7b72ed16.js","assets/js/hotkeys-js-02dbb75d.js","assets/js/@reduxjs-2b994f65.js","assets/js/immer-269227bb.js","assets/js/redux-177ed07c.js","assets/js/redux-thunk-b3d00609.js","assets/css/febaee81.css"]))),$e=i.lazy((()=>H((()=>import("./other-2120881f.js")),["assets/js/other-2120881f.js","assets/js/react-32c7b601.js","assets/js/@babel-7994ac7b.js","assets/js/antd-eee57572.js","assets/js/rc-util-fa3fab39.js","assets/js/react-dom-23648d3c.js","assets/js/scheduler-c51d43b5.js","assets/js/@ant-design-98afa22e.js","assets/js/@emotion-9019b847.js","assets/js/stylis-278fc574.js","assets/js/classnames-a0172216.js","assets/js/resize-observer-polyfill-ad543aa3.js","assets/js/@ctrl-4982d949.js","assets/js/rc-resize-observer-c51b26ea.js","assets/js/rc-motion-254b4328.js","assets/js/rc-overflow-e11a0550.js","assets/js/rc-picker-5cb48957.js","assets/js/dayjs-c6b1d5e5.js","assets/js/@rc-component-52f7a36a.js","assets/js/rc-tabs-f997bcab.js","assets/js/rc-dropdown-fe41106f.js","assets/js/rc-menu-e175303e.js","assets/js/rc-select-c44667d1.js","assets/js/rc-virtual-list-5d6a9296.js","assets/js/rc-tooltip-b71545ef.js","assets/js/rc-input-number-f4ee0ed6.js","assets/js/rc-input-84597cfb.js","assets/js/rc-collapse-4b3023b3.js","assets/js/rc-drawer-250fa246.js","assets/js/rc-field-form-3a9c64d4.js","assets/js/async-validator-cf877c1f.js","assets/js/scroll-into-view-if-needed-fc6bc28c.js","assets/js/compute-scroll-into-view-5923a88b.js","assets/js/rc-dialog-5d47b91a.js","assets/js/rc-notification-f56266e7.js","assets/js/rc-table-dcb25e6c.js","assets/js/rc-tree-45133a71.js","assets/js/rc-checkbox-8ce5fd11.js","assets/js/rc-pagination-d774582e.js","assets/js/throttle-debounce-ba017292.js","assets/js/rc-textarea-9dafdc19.js","assets/js/react-router-dom-8f087119.js","assets/js/react-router-bc287c79.js","assets/js/@remix-run-e9fd25ef.js","assets/js/react-redux-1fe69321.js","assets/js/hoist-non-react-statics-d555263c.js","assets/js/react-is-80a4043c.js","assets/js/use-sync-external-store-767c46c4.js","assets/js/styled-components-0c78ace3.js","assets/js/tslib-096ef9df.js","assets/js/xlsx-4838b779.js","assets/js/lodash-5ed8c413.js","assets/js/fabric-7b72ed16.js","assets/js/hotkeys-js-02dbb75d.js","assets/js/@reduxjs-2b994f65.js","assets/js/immer-269227bb.js","assets/js/redux-177ed07c.js","assets/js/redux-thunk-b3d00609.js","assets/css/febaee81.css"]))),Ue=i.lazy((()=>H((()=>import("./NotFund-05e99787.js")),["assets/js/NotFund-05e99787.js","assets/js/react-32c7b601.js","assets/js/@babel-7994ac7b.js"]))),Ke=[{path:"/",name:"首页",icon:"HomeOutlined",element:s.jsx(W,{})},{path:"/dataScreen",name:"数据大屏",icon:"RadarChartOutlined",element:s.jsx(Ve,{})},{path:"/helloWorld",name:"测试页面",icon:"BugOutlined",element:s.jsx(We,{}),isHiddentSider:!0},{path:"/home",name:"数据报表",icon:"TableOutlined",element:s.jsx(Q,{}),errorElement:s.jsx(V,{}),children:[{path:"/home/dashboard",name:"首页",icon:"StepForwardOutlined",element:s.jsx(Y,{}),isHiddentSider:!0},{path:"/home/table",name:"列表内容",key:"table",icon:"StepForwardOutlined",element:s.jsx(he,{})},{path:"/home/readxls",name:"读取xls文件内容",key:"readxls",icon:"FileSearchOutlined",element:s.jsx(ce,{})}]},{path:"/echarts",name:"echarts",icon:"PieChartOutlined",element:s.jsx(Q,{}),errorElement:s.jsx(V,{}),children:[{path:"/echarts/waterChart",name:"水型图",icon:"PieChartOutlined",element:s.jsx(q,{})}]},{path:"/drawing",name:"绘制",icon:"EditOutlined",element:s.jsx(Q,{}),errorElement:s.jsx(V,{}),children:[{path:"/drawing/freeDrawing",name:"画板",icon:"EditOutlined",element:s.jsx(qe,{})}]},{path:"/other",name:"其他页面",icon:"StepForwardOutlined",element:s.jsx($e,{}),isHiddentSider:!0},{path:"*",name:"错误页面",icon:"StepForwardOutlined",element:s.jsx(Ue,{}),isHiddentSider:!0}];G.locale("zh-cn");const Ze=i.lazy((()=>H((()=>import("./routerBeforeEach-8eb5593c.js")),["assets/js/routerBeforeEach-8eb5593c.js","assets/js/react-32c7b601.js","assets/js/@babel-7994ac7b.js","assets/js/react-router-bc287c79.js","assets/js/@remix-run-e9fd25ef.js","assets/js/react-dom-23648d3c.js","assets/js/scheduler-c51d43b5.js","assets/js/react-router-dom-8f087119.js","assets/js/react-redux-1fe69321.js","assets/js/hoist-non-react-statics-d555263c.js","assets/js/react-is-80a4043c.js","assets/js/use-sync-external-store-767c46c4.js","assets/js/antd-eee57572.js","assets/js/rc-util-fa3fab39.js","assets/js/@ant-design-98afa22e.js","assets/js/@emotion-9019b847.js","assets/js/stylis-278fc574.js","assets/js/classnames-a0172216.js","assets/js/resize-observer-polyfill-ad543aa3.js","assets/js/@ctrl-4982d949.js","assets/js/rc-resize-observer-c51b26ea.js","assets/js/rc-motion-254b4328.js","assets/js/rc-overflow-e11a0550.js","assets/js/rc-picker-5cb48957.js","assets/js/dayjs-c6b1d5e5.js","assets/js/@rc-component-52f7a36a.js","assets/js/rc-tabs-f997bcab.js","assets/js/rc-dropdown-fe41106f.js","assets/js/rc-menu-e175303e.js","assets/js/rc-select-c44667d1.js","assets/js/rc-virtual-list-5d6a9296.js","assets/js/rc-tooltip-b71545ef.js","assets/js/rc-input-number-f4ee0ed6.js","assets/js/rc-input-84597cfb.js","assets/js/rc-collapse-4b3023b3.js","assets/js/rc-drawer-250fa246.js","assets/js/rc-field-form-3a9c64d4.js","assets/js/async-validator-cf877c1f.js","assets/js/scroll-into-view-if-needed-fc6bc28c.js","assets/js/compute-scroll-into-view-5923a88b.js","assets/js/rc-dialog-5d47b91a.js","assets/js/rc-notification-f56266e7.js","assets/js/rc-table-dcb25e6c.js","assets/js/rc-tree-45133a71.js","assets/js/rc-checkbox-8ce5fd11.js","assets/js/rc-pagination-d774582e.js","assets/js/throttle-debounce-ba017292.js","assets/js/rc-textarea-9dafdc19.js","assets/js/styled-components-0c78ace3.js","assets/js/tslib-096ef9df.js","assets/js/xlsx-4838b779.js","assets/js/lodash-5ed8c413.js","assets/js/fabric-7b72ed16.js","assets/js/hotkeys-js-02dbb75d.js","assets/js/@reduxjs-2b994f65.js","assets/js/immer-269227bb.js","assets/js/redux-177ed07c.js","assets/js/redux-thunk-b3d00609.js","assets/css/febaee81.css"]))),Je=i.memo((()=>s.jsx(Ze,{routes:Ke,children:T(Ke)})));a.createRoot(document.querySelector("#app")).render(s.jsx(i.Suspense,{fallback:s.jsx("div",{children:"加载...."}),children:s.jsx(c,{store:Oe,children:s.jsx(n,{basename:"/",children:s.jsx(k,{locale:M,theme:{token:{margin:0},components:{Breadcrumb:{itemColor:"#fff",separatorColor:"#fff",lastItemColor:"rgb(202 184 184 / 88%)"},Tabs:{}}},children:s.jsx(Je,{})})})})}));export{je as H,H as _,Ie as a,we as b,Me as c,te as d,ke as e,ge as f,Ke as r,Ee as s,Se as u};
